{"ast":null,"code":"import React,{useState,useEffect}from'react';import{db}from'../../firebase/config';import{collection,addDoc,getDocs,deleteDoc,doc,query,where,orderBy}from'firebase/firestore';import'./Dashboard.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Dashboard=()=>{const[activeSection,setActiveSection]=useState('orders');const[showCustomInput,setShowCustomInput]=useState(false);const[customProductName,setCustomProductName]=useState('');const[customProducts,setCustomProducts]=useState({games:[],subscriptions:[],services:[]});const[formData,setFormData]=useState({productName:'',costPrice:'',sellingPrice:'',description:'',serviceType:'games',// القيمة الافتراضية\nsubType:''// نوع المنتج الفرعي\n});const[capitalHistory,setCapitalHistory]=useState([]);const[newCapital,setNewCapital]=useState({amount:'',note:'',date:new Date().toISOString().split('T')[0]});const[totalCapital,setTotalCapital]=useState(0);const[capitalFilter,setCapitalFilter]=useState({startDate:'',endDate:''});const sections={orders:{title:'تسجيل الطلبات',icon:'📦'},capital:{title:'رأس المال',icon:'💰'},analytics:{title:'تحليل الطلبات',icon:'📊'},archive:{title:'الأرشيف',icon:'📂'}};const handleInputChange=e=>{setFormData({...formData,[e.target.name]:e.target.value});};const handleSubmit=e=>{e.preventDefault();console.log('Form submitted:',formData);};// إضافة useEffect لجلب المنتجات المخصصة عند تحميل المكون\nuseEffect(()=>{const fetchCustomProducts=async()=>{try{const customProductsRef=collection(db,'customProducts');const querySnapshot=await getDocs(customProductsRef);const products={games:[],subscriptions:[],services:[]};querySnapshot.forEach(doc=>{const product={id:doc.id,...doc.data()};products[product.category].push(product);});setCustomProducts(products);}catch(error){console.error(\"Error fetching custom products:\",error);}};fetchCustomProducts();},[]);useEffect(()=>{fetchCapitalHistory();},[]);const fetchCapitalHistory=async()=>{try{const capitalRef=collection(db,'capital');const q=query(capitalRef,orderBy('date','desc'));const querySnapshot=await getDocs(q);const history=[];let total=0;querySnapshot.forEach(doc=>{const data={id:doc.id,...doc.data()};history.push(data);total+=Number(data.amount);});setCapitalHistory(history);setTotalCapital(total);}catch(error){console.error(\"Error fetching capital history:\",error);}};const handleAddCapital=async e=>{e.preventDefault();if(!newCapital.amount||!newCapital.date)return;try{await addDoc(collection(db,'capital'),{amount:Number(newCapital.amount),note:newCapital.note,date:newCapital.date,timestamp:new Date()});setNewCapital({amount:'',note:'',date:new Date().toISOString().split('T')[0]});await fetchCapitalHistory();}catch(error){console.error(\"Error adding capital:\",error);}};const handleDeleteCapital=async id=>{if(window.confirm('هل أنت متأكد من حذف هذا المبلغ؟')){try{await deleteDoc(doc(db,'capital',id));await fetchCapitalHistory();}catch(error){console.error(\"Error deleting capital:\",error);}}};const getFilteredCapital=()=>{if(!capitalFilter.startDate&&!capitalFilter.endDate){return capitalHistory;}return capitalHistory.filter(item=>{const itemDate=new Date(item.date);const start=capitalFilter.startDate?new Date(capitalFilter.startDate):null;const end=capitalFilter.endDate?new Date(capitalFilter.endDate):null;if(start&&end){return itemDate>=start&&itemDate<=end;}else if(start){return itemDate>=start;}else if(end){return itemDate<=end;}return true;});};const handleCustomProductAdd=async()=>{if(customProductName.trim()){try{// إضافة المنتج إلى Firestore\nconst customProductsRef=collection(db,'customProducts');const newProduct={name:customProductName.trim(),category:formData.serviceType,createdAt:new Date()};const docRef=await addDoc(customProductsRef,newProduct);// تحديث state المحلي\nsetCustomProducts(prev=>({...prev,[formData.serviceType]:[...prev[formData.serviceType],{id:docRef.id,...newProduct}]}));setCustomProductName('');setShowCustomInput(false);}catch(error){console.error(\"Error adding custom product:\",error);}}};const handleCustomProductDelete=async productId=>{try{// حذف المنتج من Firestore\nawait deleteDoc(doc(db,'customProducts',productId));// تحديث state المحلي\nsetCustomProducts(prev=>({...prev,[formData.serviceType]:prev[formData.serviceType].filter(p=>p.id!==productId)}));// إعادة تعيين القيم إذا كان المنتج المحذوف هو المحدد حالياً\nif(formData.subType===productId){setFormData({...formData,subType:'',productName:''});}}catch(error){console.error(\"Error deleting custom product:\",error);}};const handleSubTypeClick=function(subType){let customName=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';// إذا تم الضغط على زر \"منتج مخصص\"\nif(subType==='custom'&&!customName){setShowCustomInput(true);// إعادة تعيين القيم عند الضغط على زر المنتج المخصص\nsetFormData({...formData,subType:'',productName:''});return;}setShowCustomInput(false);if(customName){// عند الضغط على منتج مخصص موجود\nsetFormData({...formData,subType:customName,productName:customName});}else{// للأزرار الأساسية\nsetFormData({...formData,subType,productName:subType==='crew'?'كرو':subType==='vbucks'?'فيبوكس':subType==='netflix'?'نتفلكس':subType==='shahid'?'شاهد':subType==='prime'?'برايم':subType==='promotion'?'ترويج':subType==='video'?'فيديو إعلاني':''});}};const getSubTypeButtons=()=>{switch(formData.serviceType){case'games':return/*#__PURE__*/_jsxs(\"div\",{className:\"sub-type-buttons\",children:[/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:`sub-type-btn ${formData.subType==='crew'?'active':''}`,onClick:()=>handleSubTypeClick('crew'),children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83D\\uDC65\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u0643\\u0631\\u0648\"})]}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:`sub-type-btn ${formData.subType==='vbucks'?'active':''}`,onClick:()=>handleSubTypeClick('vbucks'),children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83D\\uDC8E\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u0641\\u064A\\u0628\\u0648\\u0643\\u0633\"})]}),customProducts.games.map(product=>/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:`sub-type-btn custom-product ${formData.subType===product.name?'active':''}`,onClick:()=>handleSubTypeClick('custom',product.name),children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83C\\uDFAE\"}),/*#__PURE__*/_jsx(\"span\",{children:product.name}),/*#__PURE__*/_jsx(\"span\",{className:\"delete-custom-product\",onClick:e=>{e.stopPropagation();handleCustomProductDelete(product.id);// إذا كان هذا المنتج المخصص هو المحدد حالياً، قم بإعادة تعيين الحقول\nif(formData.subType===product.name){setFormData({...formData,subType:'',productName:''});}},children:\"\\xD7\"})]},product.id)),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:`sub-type-btn ${formData.subType==='custom'?'active':''}`,onClick:()=>handleSubTypeClick('custom'),children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u2728\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u0645\\u0646\\u062A\\u062C \\u0645\\u062E\\u0635\\u0635\"})]}),showCustomInput&&/*#__PURE__*/_jsxs(\"div\",{className:\"custom-product-input\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:customProductName,onChange:e=>setCustomProductName(e.target.value),placeholder:\"\\u0627\\u0633\\u0645 \\u0627\\u0644\\u0645\\u0646\\u062A\\u062C \\u0627\\u0644\\u0645\\u062E\\u0635\\u0635\",className:\"form-input\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleCustomProductAdd,className:\"add-custom-btn\",children:\"\\u0625\\u0636\\u0627\\u0641\\u0629\"})]})]});case'subscriptions':return/*#__PURE__*/_jsxs(\"div\",{className:\"sub-type-buttons\",children:[/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:`sub-type-btn ${formData.subType==='netflix'?'active':''}`,onClick:()=>handleSubTypeClick('netflix'),children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83C\\uDFAC\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u0646\\u062A\\u0641\\u0644\\u0643\\u0633\"})]}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:`sub-type-btn ${formData.subType==='shahid'?'active':''}`,onClick:()=>handleSubTypeClick('shahid'),children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83D\\uDCFA\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u0634\\u0627\\u0647\\u062F\"})]}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:`sub-type-btn ${formData.subType==='prime'?'active':''}`,onClick:()=>handleSubTypeClick('prime'),children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83D\\uDED2\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u0628\\u0631\\u0627\\u064A\\u0645\"})]}),customProducts.subscriptions.map(product=>/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:`sub-type-btn custom-product ${formData.subType===product.name?'active':''}`,onClick:()=>handleSubTypeClick('custom',product.name),children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83C\\uDFAF\"}),/*#__PURE__*/_jsx(\"span\",{children:product.name}),/*#__PURE__*/_jsx(\"span\",{className:\"delete-custom-product\",onClick:e=>{e.stopPropagation();handleCustomProductDelete(product.id);if(formData.subType===product.name){setFormData({...formData,subType:'',productName:''});}},children:\"\\xD7\"})]},product.id)),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:`sub-type-btn ${formData.subType==='custom'?'active':''}`,onClick:()=>handleSubTypeClick('custom'),children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u2728\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u0645\\u0646\\u062A\\u062C \\u0645\\u062E\\u0635\\u0635\"})]}),showCustomInput&&/*#__PURE__*/_jsxs(\"div\",{className:\"custom-product-input\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:customProductName,onChange:e=>setCustomProductName(e.target.value),placeholder:\"\\u0627\\u0633\\u0645 \\u0627\\u0644\\u0645\\u0646\\u062A\\u062C \\u0627\\u0644\\u0645\\u062E\\u0635\\u0635\",className:\"form-input\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleCustomProductAdd,className:\"add-custom-btn\",children:\"\\u0625\\u0636\\u0627\\u0641\\u0629\"})]})]});case'services':return/*#__PURE__*/_jsxs(\"div\",{className:\"sub-type-buttons\",children:[/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:`sub-type-btn ${formData.subType==='promotion'?'active':''}`,onClick:()=>handleSubTypeClick('promotion'),children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83D\\uDCE2\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u062A\\u0631\\u0648\\u064A\\u062C\"})]}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:`sub-type-btn ${formData.subType==='video'?'active':''}`,onClick:()=>handleSubTypeClick('video'),children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83C\\uDFA5\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u0641\\u064A\\u062F\\u064A\\u0648 \\u0625\\u0639\\u0644\\u0627\\u0646\\u064A\"})]}),customProducts.services.map(product=>/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:`sub-type-btn custom-product ${formData.subType===product.name?'active':''}`,onClick:()=>handleSubTypeClick('custom',product.name),children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u26A1\"}),/*#__PURE__*/_jsx(\"span\",{children:product.name}),/*#__PURE__*/_jsx(\"span\",{className:\"delete-custom-product\",onClick:e=>{e.stopPropagation();handleCustomProductDelete(product.id);if(formData.subType===product.name){setFormData({...formData,subType:'',productName:''});}},children:\"\\xD7\"})]},product.id)),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:`sub-type-btn ${formData.subType==='custom'?'active':''}`,onClick:()=>handleSubTypeClick('custom'),children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u2728\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u0645\\u0646\\u062A\\u062C \\u0645\\u062E\\u0635\\u0635\"})]}),showCustomInput&&/*#__PURE__*/_jsxs(\"div\",{className:\"custom-product-input\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:customProductName,onChange:e=>setCustomProductName(e.target.value),placeholder:\"\\u0627\\u0633\\u0645 \\u0627\\u0644\\u0645\\u0646\\u062A\\u062C \\u0627\\u0644\\u0645\\u062E\\u0635\\u0635\",className:\"form-input\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleCustomProductAdd,className:\"add-custom-btn\",children:\"\\u0625\\u0636\\u0627\\u0641\\u0629\"})]})]});default:return null;}};const renderCapitalSection=()=>{const filteredHistory=getFilteredCapital();const filteredTotal=filteredHistory.reduce((acc,curr)=>acc+Number(curr.amount),0);return/*#__PURE__*/_jsxs(\"div\",{className:\"capital-section\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"capital-header\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"section-icon\",children:\"\\uD83D\\uDCB0\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"\\u0625\\u062F\\u0627\\u0631\\u0629 \\u0648\\u062A\\u062D\\u0644\\u064A\\u0644 \\u0631\\u0623\\u0633 \\u0627\\u0644\\u0645\\u0627\\u0644\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"capital-grid\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"capital-card primary\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"capital-card-content\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-wallet\"}),\"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0631\\u0623\\u0633 \\u0627\\u0644\\u0645\\u0627\\u0644\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"amount\",children:[totalCapital.toLocaleString(),/*#__PURE__*/_jsx(\"span\",{children:\"\\u062F.\\u0639\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"capital-card secondary\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"capital-card-content\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-chart-line\"}),\"\\u0627\\u0644\\u0646\\u0645\\u0648 \\u0627\\u0644\\u0634\\u0647\\u0631\\u064A\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"amount\",children:[getMonthlyGrowth(),/*#__PURE__*/_jsx(\"span\",{children:\"%\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"capital-card warning\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"capital-card-content\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-coins\"}),\"\\u0645\\u0639\\u062F\\u0644 \\u0627\\u0644\\u0625\\u0636\\u0627\\u0641\\u0627\\u062A\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"amount\",children:[getAverageAddition().toLocaleString(),/*#__PURE__*/_jsx(\"span\",{children:\"\\u062F.\\u0639 / \\u0634\\u0647\\u0631\\u064A\\u0627\\u064B\"})]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"capital-form-container\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u0625\\u0636\\u0627\\u0641\\u0629 \\u0631\\u0623\\u0633 \\u0645\\u0627\\u0644 \\u062C\\u062F\\u064A\\u062F\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"capital-form\",onSubmit:handleAddCapital,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"capital-input-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u0627\\u0644\\u0645\\u0628\\u0644\\u063A \\u0627\\u0644\\u0645\\u0636\\u0627\\u0641\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"capital-input\",value:newCapital.amount,onChange:e=>setNewCapital({...newCapital,amount:e.target.value}),placeholder:\"\\u0623\\u062F\\u062E\\u0644 \\u0627\\u0644\\u0645\\u0628\\u0644\\u063A\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"capital-input-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u0627\\u0644\\u062A\\u0627\\u0631\\u064A\\u062E\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",className:\"capital-input\",value:newCapital.date,onChange:e=>setNewCapital({...newCapital,date:e.target.value}),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"capital-input-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u0645\\u0644\\u0627\\u062D\\u0638\\u0627\\u062A\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"capital-input\",value:newCapital.note,onChange:e=>setNewCapital({...newCapital,note:e.target.value}),placeholder:\"\\u0625\\u0636\\u0627\\u0641\\u0629 \\u0645\\u0644\\u0627\\u062D\\u0638\\u0629 (\\u0627\\u062E\\u062A\\u064A\\u0627\\u0631\\u064A)\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"capital-submit-btn\",children:\"\\u0625\\u0636\\u0627\\u0641\\u0629 \\u0631\\u0623\\u0633 \\u0645\\u0627\\u0644\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"capital-history-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u0633\\u062C\\u0644 \\u0631\\u0623\\u0633 \\u0627\\u0644\\u0645\\u0627\\u0644\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"history-filters\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"date-filter\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u0645\\u0646 \\u062A\\u0627\\u0631\\u064A\\u062E\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",className:\"capital-input\",value:capitalFilter.startDate,onChange:e=>setCapitalFilter({...capitalFilter,startDate:e.target.value})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"date-filter\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u0625\\u0644\\u0649 \\u062A\\u0627\\u0631\\u064A\\u062E\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",className:\"capital-input\",value:capitalFilter.endDate,onChange:e=>setCapitalFilter({...capitalFilter,endDate:e.target.value})})]}),(capitalFilter.startDate||capitalFilter.endDate)&&/*#__PURE__*/_jsxs(\"div\",{className:\"filtered-total\",children:[\"\\u0627\\u0644\\u0645\\u062C\\u0645\\u0648\\u0639 \\u0627\\u0644\\u0645\\u0635\\u0641\\u0649: \",filteredTotal.toLocaleString(),\" \\u062F.\\u0639\"]})]}),/*#__PURE__*/_jsx(\"table\",{className:\"history-table\",children:/*#__PURE__*/_jsx(\"tbody\",{children:filteredHistory.map(item=>/*#__PURE__*/_jsxs(\"tr\",{className:\"history-row\",children:[/*#__PURE__*/_jsxs(\"td\",{className:\"amount-cell\",children:[Number(item.amount).toLocaleString(),\" \\u062F.\\u0639\"]}),/*#__PURE__*/_jsx(\"td\",{className:\"date-cell\",children:new Date(item.date).toLocaleDateString('ar-IQ')}),item.note&&/*#__PURE__*/_jsx(\"td\",{className:\"note-cell\",children:item.note}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"delete-row-btn\",onClick:()=>handleDeleteCapital(item.id),children:\"\\xD7\"})})]},item.id))})})]})]});};// يجب إضافة هذه الدوال المساعدة\nconst getMonthlyGrowth=()=>{// احسب نسبة النمو الشهري\nreturn(Math.random()*20-5).toFixed(1);};const getAverageAddition=()=>{// احسب متوسط الإضافات الشهرية\nreturn Math.floor(Math.random()*1000000)+500000;};const renderContent=()=>{switch(activeSection){case'orders':return/*#__PURE__*/_jsxs(\"div\",{className:\"orders-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"section-icon\",children:\"\\uD83D\\uDCE6\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"\\u062A\\u0633\\u062C\\u064A\\u0644 \\u0627\\u0644\\u0645\\u0646\\u062A\\u062C\\u0627\\u062A \\u0648\\u0627\\u0644\\u0637\\u0644\\u0628\\u0627\\u062A\"})]}),/*#__PURE__*/_jsxs(\"form\",{className:\"order-form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"service-types\",children:[/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:`service-btn ${formData.serviceType==='games'?'active':''}`,onClick:()=>setFormData({...formData,serviceType:'games'}),children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83C\\uDFAE\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u0623\\u0644\\u0639\\u0627\\u0628\"})]}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:`service-btn ${formData.serviceType==='subscriptions'?'active':''}`,onClick:()=>setFormData({...formData,serviceType:'subscriptions'}),children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83C\\uDFAF\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u0627\\u0634\\u062A\\u0631\\u0627\\u0643\\u0627\\u062A\"})]}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:`service-btn ${formData.serviceType==='services'?'active':''}`,onClick:()=>setFormData({...formData,serviceType:'services'}),children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u26A1\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u062E\\u062F\\u0645\\u0627\\u062A\"})]})]}),getSubTypeButtons(),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u0627\\u0633\\u0645 \\u0627\\u0644\\u0645\\u0646\\u062A\\u062C\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"productName\",className:\"form-input\",value:formData.productName,onChange:handleInputChange,placeholder:\"\\u0623\\u062F\\u062E\\u0644 \\u0627\\u0633\\u0645 \\u0627\\u0644\\u0645\\u0646\\u062A\\u062C\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u0633\\u0639\\u0631 \\u0627\\u0644\\u062A\\u0643\\u0644\\u0641\\u0629\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"costPrice\",className:\"form-input\",value:formData.costPrice,onChange:handleInputChange,placeholder:\"\\u0633\\u0639\\u0631 \\u0627\\u0644\\u062A\\u0643\\u0644\\u0641\\u0629\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u0633\\u0639\\u0631 \\u0627\\u0644\\u0628\\u064A\\u0639\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"sellingPrice\",className:\"form-input\",value:formData.sellingPrice,onChange:handleInputChange,placeholder:\"\\u0633\\u0639\\u0631 \\u0627\\u0644\\u0628\\u064A\\u0639\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group description-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u0648\\u0635\\u0641 \\u0627\\u0644\\u0645\\u0646\\u062A\\u062C\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"description\",className:\"form-input\",value:formData.description,onChange:handleInputChange,placeholder:\"\\u0648\\u0635\\u0641 \\u062A\\u0641\\u0635\\u064A\\u0644\\u064A \\u0644\\u0644\\u0645\\u0646\\u062A\\u062C\",rows:\"4\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"submit-btn\",children:\"\\u062A\\u0633\\u062C\\u064A\\u0644 \\u0627\\u0644\\u0645\\u0646\\u062A\\u062C\"})]})]});case'capital':return renderCapitalSection();case'analytics':return/*#__PURE__*/_jsxs(\"div\",{className:\"analytics-section\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u062A\\u062D\\u0644\\u064A\\u0644 \\u0627\\u0644\\u0637\\u0644\\u0628\\u0627\\u062A\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"analytics-cards\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"stat-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u0639\\u062F\\u062F \\u0627\\u0644\\u0637\\u0644\\u0628\\u0627\\u062A \\u0627\\u0644\\u064A\\u0648\\u0645\"}),/*#__PURE__*/_jsx(\"p\",{children:\"25\"})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"stat-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0627\\u0644\\u0645\\u0628\\u064A\\u0639\\u0627\\u062A\"}),/*#__PURE__*/_jsx(\"p\",{children:\"150,000 \\u062F.\\u0639\"})]})]})]});case'archive':return/*#__PURE__*/_jsxs(\"div\",{className:\"archive-section\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u0623\\u0631\\u0634\\u064A\\u0641 \\u0627\\u0644\\u0637\\u0644\\u0628\\u0627\\u062A\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"archive-filters\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"date\"}),/*#__PURE__*/_jsxs(\"select\",{children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"\\u0643\\u0644 \\u0627\\u0644\\u0637\\u0644\\u0628\\u0627\\u062A\"}),/*#__PURE__*/_jsx(\"option\",{value:\"completed\",children:\"\\u0627\\u0644\\u0645\\u0643\\u062A\\u0645\\u0644\\u0629\"}),/*#__PURE__*/_jsx(\"option\",{value:\"cancelled\",children:\"\\u0627\\u0644\\u0645\\u0644\\u063A\\u064A\\u0629\"})]})]})]});default:return/*#__PURE__*/_jsx(\"div\",{children:\"\\u0627\\u062E\\u062A\\u0631 \\u0642\\u0633\\u0645\\u0627\\u064B\"});}};return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard\",children:[/*#__PURE__*/_jsx(\"nav\",{className:\"dashboard-nav\",children:Object.entries(sections).map(_ref=>{let[key,{title,icon}]=_ref;return/*#__PURE__*/_jsxs(\"button\",{className:`nav-btn ${activeSection===key?'active':''}`,onClick:()=>setActiveSection(key),children:[/*#__PURE__*/_jsx(\"span\",{children:icon}),/*#__PURE__*/_jsx(\"span\",{children:title})]},key);})}),/*#__PURE__*/_jsx(\"main\",{className:\"dashboard-content\",children:renderContent()})]});};export default Dashboard;","map":{"version":3,"names":["React","useState","useEffect","db","collection","addDoc","getDocs","deleteDoc","doc","query","where","orderBy","jsx","_jsx","jsxs","_jsxs","Dashboard","activeSection","setActiveSection","showCustomInput","setShowCustomInput","customProductName","setCustomProductName","customProducts","setCustomProducts","games","subscriptions","services","formData","setFormData","productName","costPrice","sellingPrice","description","serviceType","subType","capitalHistory","setCapitalHistory","newCapital","setNewCapital","amount","note","date","Date","toISOString","split","totalCapital","setTotalCapital","capitalFilter","setCapitalFilter","startDate","endDate","sections","orders","title","icon","capital","analytics","archive","handleInputChange","e","target","name","value","handleSubmit","preventDefault","console","log","fetchCustomProducts","customProductsRef","querySnapshot","products","forEach","product","id","data","category","push","error","fetchCapitalHistory","capitalRef","q","history","total","Number","handleAddCapital","timestamp","handleDeleteCapital","window","confirm","getFilteredCapital","filter","item","itemDate","start","end","handleCustomProductAdd","trim","newProduct","createdAt","docRef","prev","handleCustomProductDelete","productId","p","handleSubTypeClick","customName","arguments","length","undefined","getSubTypeButtons","className","children","type","onClick","map","stopPropagation","onChange","placeholder","renderCapitalSection","filteredHistory","filteredTotal","reduce","acc","curr","toLocaleString","getMonthlyGrowth","getAverageAddition","onSubmit","required","toLocaleDateString","Math","random","toFixed","floor","renderContent","rows","class","Object","entries","_ref","key"],"sources":["C:/Users/saifm/OneDrive/Desktop/Prog/store-analytics/src/components/Dashboard/Dashboard.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { db } from '../../firebase/config';\r\nimport { collection, addDoc, getDocs, deleteDoc, doc, query, where, orderBy } from 'firebase/firestore';\r\nimport './Dashboard.css';\r\n\r\nconst Dashboard = () => {\r\n    const [activeSection, setActiveSection] = useState('orders');\r\n    const [showCustomInput, setShowCustomInput] = useState(false);\r\n    const [customProductName, setCustomProductName] = useState('');\r\n    const [customProducts, setCustomProducts] = useState({\r\n        games: [],\r\n        subscriptions: [],\r\n        services: []\r\n    });\r\n    const [formData, setFormData] = useState({\r\n        productName: '',\r\n        costPrice: '',\r\n        sellingPrice: '',\r\n        description: '',\r\n        serviceType: 'games', // القيمة الافتراضية\r\n        subType: '' // نوع المنتج الفرعي\r\n    });\r\n    const [capitalHistory, setCapitalHistory] = useState([]);\r\n    const [newCapital, setNewCapital] = useState({\r\n        amount: '',\r\n        note: '',\r\n        date: new Date().toISOString().split('T')[0]\r\n    });\r\n    const [totalCapital, setTotalCapital] = useState(0);\r\n    const [capitalFilter, setCapitalFilter] = useState({\r\n        startDate: '',\r\n        endDate: ''\r\n    });\r\n\r\n    const sections = {\r\n        orders: { title: 'تسجيل الطلبات', icon: '📦' },\r\n        capital: { title: 'رأس المال', icon: '💰' },\r\n        analytics: { title: 'تحليل الطلبات', icon: '📊' },\r\n        archive: { title: 'الأرشيف', icon: '📂' }\r\n    };\r\n\r\n    const handleInputChange = (e) => {\r\n        setFormData({\r\n            ...formData,\r\n            [e.target.name]: e.target.value\r\n        });\r\n    };\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        console.log('Form submitted:', formData);\r\n    };\r\n\r\n    // إضافة useEffect لجلب المنتجات المخصصة عند تحميل المكون\r\n    useEffect(() => {\r\n        const fetchCustomProducts = async () => {\r\n            try {\r\n                const customProductsRef = collection(db, 'customProducts');\r\n                const querySnapshot = await getDocs(customProductsRef);\r\n                const products = {\r\n                    games: [],\r\n                    subscriptions: [],\r\n                    services: []\r\n                };\r\n\r\n                querySnapshot.forEach((doc) => {\r\n                    const product = { id: doc.id, ...doc.data() };\r\n                    products[product.category].push(product);\r\n                });\r\n\r\n                setCustomProducts(products);\r\n            } catch (error) {\r\n                console.error(\"Error fetching custom products:\", error);\r\n            }\r\n        };\r\n\r\n        fetchCustomProducts();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        fetchCapitalHistory();\r\n    }, []);\r\n\r\n    const fetchCapitalHistory = async () => {\r\n        try {\r\n            const capitalRef = collection(db, 'capital');\r\n            const q = query(capitalRef, orderBy('date', 'desc'));\r\n            const querySnapshot = await getDocs(q);\r\n            \r\n            const history = [];\r\n            let total = 0;\r\n            \r\n            querySnapshot.forEach((doc) => {\r\n                const data = { id: doc.id, ...doc.data() };\r\n                history.push(data);\r\n                total += Number(data.amount);\r\n            });\r\n            \r\n            setCapitalHistory(history);\r\n            setTotalCapital(total);\r\n        } catch (error) {\r\n            console.error(\"Error fetching capital history:\", error);\r\n        }\r\n    };\r\n\r\n    const handleAddCapital = async (e) => {\r\n        e.preventDefault();\r\n        if (!newCapital.amount || !newCapital.date) return;\r\n\r\n        try {\r\n            await addDoc(collection(db, 'capital'), {\r\n                amount: Number(newCapital.amount),\r\n                note: newCapital.note,\r\n                date: newCapital.date,\r\n                timestamp: new Date()\r\n            });\r\n\r\n            setNewCapital({\r\n                amount: '',\r\n                note: '',\r\n                date: new Date().toISOString().split('T')[0]\r\n            });\r\n\r\n            await fetchCapitalHistory();\r\n        } catch (error) {\r\n            console.error(\"Error adding capital:\", error);\r\n        }\r\n    };\r\n\r\n    const handleDeleteCapital = async (id) => {\r\n        if (window.confirm('هل أنت متأكد من حذف هذا المبلغ؟')) {\r\n            try {\r\n                await deleteDoc(doc(db, 'capital', id));\r\n                await fetchCapitalHistory();\r\n            } catch (error) {\r\n                console.error(\"Error deleting capital:\", error);\r\n            }\r\n        }\r\n    };\r\n\r\n    const getFilteredCapital = () => {\r\n        if (!capitalFilter.startDate && !capitalFilter.endDate) {\r\n            return capitalHistory;\r\n        }\r\n\r\n        return capitalHistory.filter(item => {\r\n            const itemDate = new Date(item.date);\r\n            const start = capitalFilter.startDate ? new Date(capitalFilter.startDate) : null;\r\n            const end = capitalFilter.endDate ? new Date(capitalFilter.endDate) : null;\r\n\r\n            if (start && end) {\r\n                return itemDate >= start && itemDate <= end;\r\n            } else if (start) {\r\n                return itemDate >= start;\r\n            } else if (end) {\r\n                return itemDate <= end;\r\n            }\r\n            return true;\r\n        });\r\n    };\r\n\r\n    const handleCustomProductAdd = async () => {\r\n        if (customProductName.trim()) {\r\n            try {\r\n                // إضافة المنتج إلى Firestore\r\n                const customProductsRef = collection(db, 'customProducts');\r\n                const newProduct = {\r\n                    name: customProductName.trim(),\r\n                    category: formData.serviceType,\r\n                    createdAt: new Date()\r\n                };\r\n\r\n                const docRef = await addDoc(customProductsRef, newProduct);\r\n                \r\n                // تحديث state المحلي\r\n                setCustomProducts(prev => ({\r\n                    ...prev,\r\n                    [formData.serviceType]: [\r\n                        ...prev[formData.serviceType],\r\n                        { id: docRef.id, ...newProduct }\r\n                    ]\r\n                }));\r\n\r\n                setCustomProductName('');\r\n                setShowCustomInput(false);\r\n            } catch (error) {\r\n                console.error(\"Error adding custom product:\", error);\r\n            }\r\n        }\r\n    };\r\n\r\n    const handleCustomProductDelete = async (productId) => {\r\n        try {\r\n            // حذف المنتج من Firestore\r\n            await deleteDoc(doc(db, 'customProducts', productId));\r\n\r\n            // تحديث state المحلي\r\n            setCustomProducts(prev => ({\r\n                ...prev,\r\n                [formData.serviceType]: prev[formData.serviceType].filter(p => p.id !== productId)\r\n            }));\r\n\r\n            // إعادة تعيين القيم إذا كان المنتج المحذوف هو المحدد حالياً\r\n            if (formData.subType === productId) {\r\n                setFormData({\r\n                    ...formData,\r\n                    subType: '',\r\n                    productName: ''\r\n                });\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error deleting custom product:\", error);\r\n        }\r\n    };\r\n\r\n    const handleSubTypeClick = (subType, customName = '') => {\r\n        // إذا تم الضغط على زر \"منتج مخصص\"\r\n        if (subType === 'custom' && !customName) {\r\n            setShowCustomInput(true);\r\n            // إعادة تعيين القيم عند الضغط على زر المنتج المخصص\r\n            setFormData({\r\n                ...formData,\r\n                subType: '',\r\n                productName: ''\r\n            });\r\n            return;\r\n        }\r\n    \r\n        setShowCustomInput(false);\r\n        \r\n        if (customName) {\r\n            // عند الضغط على منتج مخصص موجود\r\n            setFormData({\r\n                ...formData,\r\n                subType: customName,\r\n                productName: customName\r\n            });\r\n        } else {\r\n            // للأزرار الأساسية\r\n            setFormData({\r\n                ...formData,\r\n                subType,\r\n                productName: subType === 'crew' ? 'كرو' :\r\n                            subType === 'vbucks' ? 'فيبوكس' :\r\n                            subType === 'netflix' ? 'نتفلكس' :\r\n                            subType === 'shahid' ? 'شاهد' :\r\n                            subType === 'prime' ? 'برايم' :\r\n                            subType === 'promotion' ? 'ترويج' :\r\n                            subType === 'video' ? 'فيديو إعلاني' : ''\r\n            });\r\n        }\r\n    };\r\n\r\n    const getSubTypeButtons = () => {\r\n        switch(formData.serviceType) {\r\n            case 'games':\r\n                return (\r\n                    <div className=\"sub-type-buttons\">\r\n                        {/* الأزرار الأساسية */}\r\n                        <button\r\n                            type=\"button\"\r\n                            className={`sub-type-btn ${formData.subType === 'crew' ? 'active' : ''}`}\r\n                            onClick={() => handleSubTypeClick('crew')}\r\n                        >\r\n                            <span>👥</span>\r\n                            <span>كرو</span>\r\n                        </button>\r\n                        <button\r\n                            type=\"button\"\r\n                            className={`sub-type-btn ${formData.subType === 'vbucks' ? 'active' : ''}`}\r\n                            onClick={() => handleSubTypeClick('vbucks')}\r\n                        >\r\n                            <span>💎</span>\r\n                            <span>فيبوكس</span>\r\n                        </button>\r\n                        {/* المنتجات المخصصة */}\r\n                        {customProducts.games.map(product => (\r\n                            <button\r\n                                key={product.id}\r\n                                type=\"button\"\r\n                                className={`sub-type-btn custom-product ${formData.subType === product.name ? 'active' : ''}`}\r\n                                onClick={() => handleSubTypeClick('custom', product.name)}\r\n                            >\r\n                                <span>🎮</span>\r\n                                <span>{product.name}</span>\r\n                                <span \r\n                                    className=\"delete-custom-product\"\r\n                                    onClick={(e) => {\r\n                                        e.stopPropagation();\r\n                                        handleCustomProductDelete(product.id);\r\n                                        // إذا كان هذا المنتج المخصص هو المحدد حالياً، قم بإعادة تعيين الحقول\r\n                                        if (formData.subType === product.name) {\r\n                                            setFormData({\r\n                                                ...formData,\r\n                                                subType: '',\r\n                                                productName: ''\r\n                                            });\r\n                                        }\r\n                                    }}\r\n                                >\r\n                                    ×\r\n                                </span>\r\n                            </button>\r\n                        ))}\r\n                        {/* زر المنتج المخصص */}\r\n                        <button\r\n                            type=\"button\"\r\n                            className={`sub-type-btn ${formData.subType === 'custom' ? 'active' : ''}`}\r\n                            onClick={() => handleSubTypeClick('custom')}\r\n                        >\r\n                            <span>✨</span>\r\n                            <span>منتج مخصص</span>\r\n                        </button>\r\n                        {/* حقل إدخال المنتج المخصص */}\r\n                        {showCustomInput && (\r\n                            <div className=\"custom-product-input\">\r\n                                <input\r\n                                    type=\"text\"\r\n                                    value={customProductName}\r\n                                    onChange={(e) => setCustomProductName(e.target.value)}\r\n                                    placeholder=\"اسم المنتج المخصص\"\r\n                                    className=\"form-input\"\r\n                                />\r\n                                <button\r\n                                    type=\"button\"\r\n                                    onClick={handleCustomProductAdd}\r\n                                    className=\"add-custom-btn\"\r\n                                >\r\n                                    إضافة\r\n                                </button>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                );\r\n            case 'subscriptions':\r\n                return (\r\n                    <div className=\"sub-type-buttons\">\r\n                        <button\r\n                            type=\"button\"\r\n                            className={`sub-type-btn ${formData.subType === 'netflix' ? 'active' : ''}`}\r\n                            onClick={() => handleSubTypeClick('netflix')}\r\n                        >\r\n                            <span>🎬</span>\r\n                            <span>نتفلكس</span>\r\n                        </button>\r\n                        <button\r\n                            type=\"button\"\r\n                            className={`sub-type-btn ${formData.subType === 'shahid' ? 'active' : ''}`}\r\n                            onClick={() => handleSubTypeClick('shahid')}\r\n                        >\r\n                            <span>📺</span>\r\n                            <span>شاهد</span>\r\n                        </button>\r\n                        <button\r\n                            type=\"button\"\r\n                            className={`sub-type-btn ${formData.subType === 'prime' ? 'active' : ''}`}\r\n                            onClick={() => handleSubTypeClick('prime')}\r\n                        >\r\n                            <span>🛒</span>\r\n                            <span>برايم</span>\r\n                        </button>\r\n                        {/* المنتجات المخصصة للاشتراكات */}\r\n                        {customProducts.subscriptions.map(product => (\r\n                            <button\r\n                                key={product.id}\r\n                                type=\"button\"\r\n                                className={`sub-type-btn custom-product ${formData.subType === product.name ? 'active' : ''}`}\r\n                                onClick={() => handleSubTypeClick('custom', product.name)}\r\n                            >\r\n                                <span>🎯</span>\r\n                                <span>{product.name}</span>\r\n                                <span \r\n                                    className=\"delete-custom-product\"\r\n                                    onClick={(e) => {\r\n                                        e.stopPropagation();\r\n                                        handleCustomProductDelete(product.id);\r\n                                        if (formData.subType === product.name) {\r\n                                            setFormData({\r\n                                                ...formData,\r\n                                                subType: '',\r\n                                                productName: ''\r\n                                            });\r\n                                        }\r\n                                    }}\r\n                                >\r\n                                    ×\r\n                                </span>\r\n                            </button>\r\n                        ))}\r\n                        <button\r\n                            type=\"button\"\r\n                            className={`sub-type-btn ${formData.subType === 'custom' ? 'active' : ''}`}\r\n                            onClick={() => handleSubTypeClick('custom')}\r\n                        >\r\n                            <span>✨</span>\r\n                            <span>منتج مخصص</span>\r\n                        </button>\r\n                        {showCustomInput && (\r\n                            <div className=\"custom-product-input\">\r\n                                <input\r\n                                    type=\"text\"\r\n                                    value={customProductName}\r\n                                    onChange={(e) => setCustomProductName(e.target.value)}\r\n                                    placeholder=\"اسم المنتج المخصص\"\r\n                                    className=\"form-input\"\r\n                                />\r\n                                <button\r\n                                    type=\"button\"\r\n                                    onClick={handleCustomProductAdd}\r\n                                    className=\"add-custom-btn\"\r\n                                >\r\n                                    إضافة\r\n                                </button>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                );\r\n            case 'services':\r\n                return (\r\n                    <div className=\"sub-type-buttons\">\r\n                        <button\r\n                            type=\"button\"\r\n                            className={`sub-type-btn ${formData.subType === 'promotion' ? 'active' : ''}`}\r\n                            onClick={() => handleSubTypeClick('promotion')}\r\n                        >\r\n                            <span>📢</span>\r\n                            <span>ترويج</span>\r\n                        </button>\r\n                        <button\r\n                            type=\"button\"\r\n                            className={`sub-type-btn ${formData.subType === 'video' ? 'active' : ''}`}\r\n                            onClick={() => handleSubTypeClick('video')}\r\n                        >\r\n                            <span>🎥</span>\r\n                            <span>فيديو إعلاني</span>\r\n                        </button>\r\n                        {/* المنتجات المخصصة للخدمات */}\r\n                        {customProducts.services.map(product => (\r\n                            <button\r\n                                key={product.id}\r\n                                type=\"button\"\r\n                                className={`sub-type-btn custom-product ${formData.subType === product.name ? 'active' : ''}`}\r\n                                onClick={() => handleSubTypeClick('custom', product.name)}\r\n                            >\r\n                                <span>⚡</span>\r\n                                <span>{product.name}</span>\r\n                                <span \r\n                                    className=\"delete-custom-product\"\r\n                                    onClick={(e) => {\r\n                                        e.stopPropagation();\r\n                                        handleCustomProductDelete(product.id);\r\n                                        if (formData.subType === product.name) {\r\n                                            setFormData({\r\n                                                ...formData,\r\n                                                subType: '',\r\n                                                productName: ''\r\n                                            });\r\n                                        }\r\n                                    }}\r\n                                >\r\n                                    ×\r\n                                </span>\r\n                            </button>\r\n                        ))}\r\n                        <button\r\n                            type=\"button\"\r\n                            className={`sub-type-btn ${formData.subType === 'custom' ? 'active' : ''}`}\r\n                            onClick={() => handleSubTypeClick('custom')}\r\n                        >\r\n                            <span>✨</span>\r\n                            <span>منتج مخصص</span>\r\n                        </button>\r\n                        {showCustomInput && (\r\n                            <div className=\"custom-product-input\">\r\n                                <input\r\n                                    type=\"text\"\r\n                                    value={customProductName}\r\n                                    onChange={(e) => setCustomProductName(e.target.value)}\r\n                                    placeholder=\"اسم المنتج المخصص\"\r\n                                    className=\"form-input\"\r\n                                />\r\n                                <button\r\n                                    type=\"button\"\r\n                                    onClick={handleCustomProductAdd}\r\n                                    className=\"add-custom-btn\"\r\n                                >\r\n                                    إضافة\r\n                                </button>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                );\r\n            default:\r\n                return null;\r\n        }\r\n    };\r\n\r\n    const renderCapitalSection = () => {\r\n        const filteredHistory = getFilteredCapital();\r\n        const filteredTotal = filteredHistory.reduce((acc, curr) => acc + Number(curr.amount), 0);\r\n\r\n        return (\r\n            <div className=\"capital-section\">\r\n                <header className=\"capital-header\">\r\n                    <i className=\"section-icon\">💰</i>\r\n                    <h2>إدارة وتحليل رأس المال</h2>\r\n                </header>\r\n                \r\n                <div className=\"capital-grid\">\r\n                    <div className=\"capital-card primary\">\r\n                        <div className=\"capital-card-content\">\r\n                            <h3><i className=\"fas fa-wallet\"></i>إجمالي رأس المال</h3>\r\n                            <div className=\"amount\">\r\n                                {totalCapital.toLocaleString()}\r\n                                <span>د.ع</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"capital-card secondary\">\r\n                        <div className=\"capital-card-content\">\r\n                            <h3><i className=\"fas fa-chart-line\"></i>النمو الشهري</h3>\r\n                            <div className=\"amount\">\r\n                                {getMonthlyGrowth()}\r\n                                <span>%</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"capital-card warning\">\r\n                        <div className=\"capital-card-content\">\r\n                            <h3><i className=\"fas fa-coins\"></i>معدل الإضافات</h3>\r\n                            <div className=\"amount\">\r\n                                {getAverageAddition().toLocaleString()}\r\n                                <span>د.ع / شهرياً</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"capital-form-container\">\r\n                    <h3>إضافة رأس مال جديد</h3>\r\n                    <form className=\"capital-form\" onSubmit={handleAddCapital}>\r\n                        <div className=\"capital-input-group\">\r\n                            <label>المبلغ المضاف</label>\r\n                            <input\r\n                                type=\"number\"\r\n                                className=\"capital-input\"\r\n                                value={newCapital.amount}\r\n                                onChange={(e) => setNewCapital({...newCapital, amount: e.target.value})}\r\n                                placeholder=\"أدخل المبلغ\"\r\n                                required\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"capital-input-group\">\r\n                            <label>التاريخ</label>\r\n                            <input\r\n                                type=\"date\"\r\n                                className=\"capital-input\"\r\n                                value={newCapital.date}\r\n                                onChange={(e) => setNewCapital({...newCapital, date: e.target.value})}\r\n                                required\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"capital-input-group\">\r\n                            <label>ملاحظات</label>\r\n                            <input\r\n                                type=\"text\"\r\n                                className=\"capital-input\"\r\n                                value={newCapital.note}\r\n                                onChange={(e) => setNewCapital({...newCapital, note: e.target.value})}\r\n                                placeholder=\"إضافة ملاحظة (اختياري)\"\r\n                            />\r\n                        </div>\r\n\r\n                        <button type=\"submit\" className=\"capital-submit-btn\">\r\n                            إضافة رأس مال\r\n                        </button>\r\n                    </form>\r\n                </div>\r\n\r\n                <div className=\"capital-history-section\">\r\n                    <h3>سجل رأس المال</h3>\r\n                    \r\n                    <div className=\"history-filters\">\r\n                        <div className=\"date-filter\">\r\n                            <label>من تاريخ</label>\r\n                            <input\r\n                                type=\"date\"\r\n                                className=\"capital-input\"\r\n                                value={capitalFilter.startDate}\r\n                                onChange={(e) => setCapitalFilter({...capitalFilter, startDate: e.target.value})}\r\n                            />\r\n                        </div>\r\n                        <div className=\"date-filter\">\r\n                            <label>إلى تاريخ</label>\r\n                            <input\r\n                                type=\"date\"\r\n                                className=\"capital-input\"\r\n                                value={capitalFilter.endDate}\r\n                                onChange={(e) => setCapitalFilter({...capitalFilter, endDate: e.target.value})}\r\n                            />\r\n                        </div>\r\n                        {(capitalFilter.startDate || capitalFilter.endDate) && (\r\n                            <div className=\"filtered-total\">\r\n                                المجموع المصفى: {filteredTotal.toLocaleString()} د.ع\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n\r\n                    <table className=\"history-table\">\r\n                        <tbody>\r\n                            {filteredHistory.map(item => (\r\n                                <tr key={item.id} className=\"history-row\">\r\n                                    <td className=\"amount-cell\">{Number(item.amount).toLocaleString()} د.ع</td>\r\n                                    <td className=\"date-cell\">{new Date(item.date).toLocaleDateString('ar-IQ')}</td>\r\n                                    {item.note && <td className=\"note-cell\">{item.note}</td>}\r\n                                    <td>\r\n                                        <button\r\n                                            className=\"delete-row-btn\"\r\n                                            onClick={() => handleDeleteCapital(item.id)}\r\n                                        >\r\n                                            ×\r\n                                        </button>\r\n                                    </td>\r\n                                </tr>\r\n                            ))}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    // يجب إضافة هذه الدوال المساعدة\r\n    const getMonthlyGrowth = () => {\r\n        // احسب نسبة النمو الشهري\r\n        return ((Math.random() * 20) - 5).toFixed(1);\r\n    };\r\n\r\n    const getAverageAddition = () => {\r\n        // احسب متوسط الإضافات الشهرية\r\n        return Math.floor(Math.random() * 1000000) + 500000;\r\n    };\r\n\r\n    const renderContent = () => {\r\n        switch (activeSection) {\r\n            case 'orders':\r\n                return (\r\n                    <div className=\"orders-section\">\r\n                        <div className=\"section-header\">\r\n                            <i className=\"section-icon\">📦</i>\r\n                            <h2>تسجيل المنتجات والطلبات</h2>\r\n                        </div>\r\n                        <form className=\"order-form\" onSubmit={handleSubmit}>\r\n                            <div className=\"service-types\">\r\n                                <button\r\n                                    type=\"button\"\r\n                                    className={`service-btn ${formData.serviceType === 'games' ? 'active' : ''}`}\r\n                                    onClick={() => setFormData({...formData, serviceType: 'games'})}\r\n                                >\r\n                                    <span>🎮</span>\r\n                                    <span>ألعاب</span>\r\n                                </button>\r\n                                <button\r\n                                    type=\"button\"\r\n                                    className={`service-btn ${formData.serviceType === 'subscriptions' ? 'active' : ''}`}\r\n                                    onClick={() => setFormData({...formData, serviceType: 'subscriptions'})}\r\n                                >\r\n                                    <span>🎯</span>\r\n                                    <span>اشتراكات</span>\r\n                                </button>\r\n                                <button\r\n                                    type=\"button\"\r\n                                    className={`service-btn ${formData.serviceType === 'services' ? 'active' : ''}`}\r\n                                    onClick={() => setFormData({...formData, serviceType: 'services'})}\r\n                                >\r\n                                    <span>⚡</span>\r\n                                    <span>خدمات</span>\r\n                                </button>\r\n                            </div>\r\n                            {getSubTypeButtons()}\r\n                            <div className=\"form-group\">\r\n                                <label>اسم المنتج</label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    name=\"productName\"\r\n                                    className=\"form-input\"\r\n                                    value={formData.productName}\r\n                                    onChange={handleInputChange}\r\n                                    placeholder=\"أدخل اسم المنتج\"\r\n                                />\r\n                            </div>\r\n\r\n                            <div className=\"form-group\">\r\n                                <label>سعر التكلفة</label>\r\n                                <input\r\n                                    type=\"number\"\r\n                                    name=\"costPrice\"\r\n                                    className=\"form-input\"\r\n                                    value={formData.costPrice}\r\n                                    onChange={handleInputChange}\r\n                                    placeholder=\"سعر التكلفة\"\r\n                                />\r\n                            </div>\r\n\r\n                            <div className=\"form-group\">\r\n                                <label>سعر البيع</label>\r\n                                <input\r\n                                    type=\"number\"\r\n                                    name=\"sellingPrice\"\r\n                                    className=\"form-input\"\r\n                                    value={formData.sellingPrice}\r\n                                    onChange={handleInputChange}\r\n                                    placeholder=\"سعر البيع\"\r\n                                />\r\n                            </div>\r\n\r\n                            <div className=\"form-group description-group\">\r\n                                <label>وصف المنتج</label>\r\n                                <textarea\r\n                                    name=\"description\"\r\n                                    className=\"form-input\"\r\n                                    value={formData.description}\r\n                                    onChange={handleInputChange}\r\n                                    placeholder=\"وصف تفصيلي للمنتج\"\r\n                                    rows=\"4\"\r\n                                ></textarea>\r\n                            </div>\r\n\r\n                            <button type=\"submit\" className=\"submit-btn\">\r\n                                تسجيل المنتج\r\n                            </button>\r\n                        </form>\r\n                    </div>\r\n                );\r\n            case 'capital':\r\n                return renderCapitalSection();\r\n            case 'analytics':\r\n                return <div className=\"analytics-section\">\r\n                    <h2>تحليل الطلبات</h2>\r\n                    <div className=\"analytics-cards\">\r\n                        <div class=\"stat-card\">\r\n                            <h3>عدد الطلبات اليوم</h3>\r\n                            <p>25</p>\r\n                        </div>\r\n                        <div class=\"stat-card\">\r\n                            <h3>إجمالي المبيعات</h3>\r\n                            <p>150,000 د.ع</p>\r\n                        </div>\r\n                    </div>\r\n                </div>;\r\n            case 'archive':\r\n                return <div className=\"archive-section\">\r\n                    <h2>أرشيف الطلبات</h2>\r\n                    <div className=\"archive-filters\">\r\n                        <input type=\"date\" />\r\n                        <select>\r\n                            <option value=\"all\">كل الطلبات</option>\r\n                            <option value=\"completed\">المكتملة</option>\r\n                            <option value=\"cancelled\">الملغية</option>\r\n                        </select>\r\n                    </div>\r\n                </div>;\r\n            default:\r\n                return <div>اختر قسماً</div>;\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"dashboard\">\r\n            <nav className=\"dashboard-nav\">\r\n                {Object.entries(sections).map(([key, { title, icon }]) => (\r\n                    <button\r\n                        key={key}\r\n                        className={`nav-btn ${activeSection === key ? 'active' : ''}`}\r\n                        onClick={() => setActiveSection(key)}\r\n                    >\r\n                        <span>{icon}</span>\r\n                        <span>{title}</span>\r\n                    </button>\r\n                ))}\r\n            </nav>\r\n            <main className=\"dashboard-content\">\r\n                {renderContent()}\r\n            </main>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Dashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}