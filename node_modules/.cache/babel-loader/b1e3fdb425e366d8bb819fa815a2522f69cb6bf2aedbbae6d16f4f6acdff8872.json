{"ast":null,"code":"import React,{useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const OrderDetails=_ref=>{let{orders}=_ref;const[filterType,setFilterType]=useState('all');const[sortBy,setSortBy]=useState('date');const[sortOrder,setSortOrder]=useState('desc');const calculateProfit=(selling,cost)=>{const sellingPrice=Number(selling);const costPrice=Number(cost);const commission=sellingPrice*0.05;return sellingPrice-costPrice-commission;};const formatDate=timestamp=>{try{let date;if(timestamp!==null&&timestamp!==void 0&&timestamp.seconds){date=new Date(timestamp.seconds*1000);}else if(timestamp!==null&&timestamp!==void 0&&timestamp._seconds){date=new Date(timestamp._seconds*1000);}else if(timestamp instanceof Date){date=timestamp;}else{return'تاريخ غير صالح';}return date.toLocaleString('ar-SA');}catch(error){console.error(\"Error formatting date:\",error);return'تاريخ غير صالح';}};return/*#__PURE__*/_jsxs(\"div\",{className:\"orders-details-container\",style:{background:'white',borderRadius:'15px',padding:window.innerWidth<768?'15px 10px':'20px',marginTop:'20px',boxShadow:'0 2px 10px rgba(0,0,0,0.05)',overflowX:'auto'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",style:{display:'flex',flexDirection:'column',alignItems:'center',gap:'15px',marginBottom:window.innerWidth<768?'40px':'20px',// زيادة المسافة في الموبايل\nwidth:'100%',padding:window.innerWidth<768?'0 10px':'0',boxSizing:'border-box'},children:[/*#__PURE__*/_jsx(\"h2\",{style:{fontSize:window.innerWidth<768?'1rem':'1.2rem',textAlign:'center',width:'100%'},children:\"\\u062A\\u0641\\u0627\\u0635\\u064A\\u0644 \\u0627\\u0644\\u0637\\u0644\\u0628\\u0627\\u062A\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"filters\",style:{display:'flex',flexDirection:'column',// تغيير إلى column في الموبايل\ngap:'10px',width:'100%',maxWidth:window.innerWidth<768?'100%':'none',alignItems:'center',marginBottom:window.innerWidth<768?'20px':'0'// إضافة هامش سفلي في الموبايل\n},children:[/*#__PURE__*/_jsxs(\"select\",{value:filterType,onChange:e=>setFilterType(e.target.value),style:{padding:'8px 12px',borderRadius:'8px',border:'1.5px solid #e0e0fe',width:window.innerWidth<768?'100%':'auto'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"\\u0627\\u0644\\u0643\\u0644\"}),/*#__PURE__*/_jsx(\"option\",{value:\"games\",children:\"\\u0627\\u0644\\u0623\\u0644\\u0639\\u0627\\u0628\"}),/*#__PURE__*/_jsx(\"option\",{value:\"subscriptions\",children:\"\\u0627\\u0644\\u0627\\u0634\\u062A\\u0631\\u0627\\u0643\\u0627\\u062A\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'10px',width:'100%',justifyContent:'center'},children:[/*#__PURE__*/_jsxs(\"select\",{value:sortBy,onChange:e=>setSortBy(e.target.value),style:{padding:'8px 12px',borderRadius:'8px',border:'1.5px solid #e0e0fe',width:window.innerWidth<768?'48%':'auto'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"date\",children:\"\\u062A\\u0627\\u0631\\u064A\\u062E \\u0627\\u0644\\u062A\\u0633\\u062C\\u064A\\u0644\"}),/*#__PURE__*/_jsx(\"option\",{value:\"profit\",children:\"\\u0627\\u0644\\u0631\\u0628\\u062D\"}),/*#__PURE__*/_jsx(\"option\",{value:\"price\",children:\"\\u0633\\u0639\\u0631 \\u0627\\u0644\\u0628\\u064A\\u0639\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSortOrder(prev=>prev==='asc'?'desc':'asc'),style:{padding:'8px 12px',borderRadius:'8px',border:'1.5px solid #e0e0fe',background:'#f0f2ff',width:window.innerWidth<768?'48%':'auto'},children:sortOrder==='asc'?'⬆️':'⬇️'})]})]})]}),/*#__PURE__*/_jsxs(\"table\",{style:{width:'100%',borderCollapse:'collapse',marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{style:{padding:'12px',background:'#f8f9ff',textAlign:'right'},children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'12px',background:'#f8f9ff',textAlign:'right'},children:\"\\u0627\\u0644\\u0645\\u0646\\u062A\\u062C\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'12px',background:'#f8f9ff',textAlign:'right'},children:\"\\u0627\\u0644\\u0646\\u0648\\u0639\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'12px',background:'#f8f9ff',textAlign:'right'},children:\"\\u0627\\u0644\\u062A\\u0627\\u0631\\u064A\\u062E\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'12px',background:'#f8f9ff',textAlign:'right'},children:\"\\u0633\\u0639\\u0631 \\u0627\\u0644\\u062A\\u0643\\u0644\\u0641\\u0629\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'12px',background:'#f8f9ff',textAlign:'right'},children:\"\\u0633\\u0639\\u0631 \\u0627\\u0644\\u0628\\u064A\\u0639\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'12px',background:'#f8f9ff',textAlign:'right'},children:\"\\u0627\\u0644\\u0639\\u0645\\u0648\\u0644\\u0629\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'12px',background:'#f8f9ff',textAlign:'right'},children:\"\\u0627\\u0644\\u0631\\u0628\\u062D\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'12px',background:'#f8f9ff',textAlign:'center'},children:\"\\u0627\\u0644\\u062E\\u064A\\u0627\\u0631\\u0627\\u062A\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:orders===null||orders===void 0?void 0:orders.filter(order=>filterType==='all'?true:order.serviceType===filterType).sort((a,b)=>{const sortModifier=sortOrder==='asc'?1:-1;switch(sortBy){case'date':return sortModifier*(b.timestamp.seconds-a.timestamp.seconds);case'profit':return sortModifier*(calculateProfit(b.sellingPrice,b.costPrice)-calculateProfit(a.sellingPrice,a.costPrice));case'price':return sortModifier*(Number(b.sellingPrice)-Number(a.sellingPrice));default:return 0;}}).map((order,index)=>/*#__PURE__*/_jsxs(\"tr\",{style:{background:'#fff',borderBottom:'1px solid #f0f0f0'},children:[/*#__PURE__*/_jsx(\"td\",{style:{padding:'12px'},children:index+1}),/*#__PURE__*/_jsx(\"td\",{style:{padding:'12px'},children:order.productName}),/*#__PURE__*/_jsx(\"td\",{style:{padding:'12px'},children:/*#__PURE__*/_jsx(\"span\",{style:{padding:'4px 8px',borderRadius:'6px',fontSize:'0.85rem',backgroundColor:order.serviceType==='games'?'rgba(76, 175, 80, 0.1)':order.serviceType==='subscriptions'?'rgba(33, 150, 243, 0.1)':'rgba(255, 152, 0, 0.1)',color:order.serviceType==='games'?'#4CAF50':order.serviceType==='subscriptions'?'#2196F3':'#FF9800'},children:order.serviceType==='games'?'ألعاب':order.serviceType==='subscriptions'?'اشتراكات':'خدمات'})}),/*#__PURE__*/_jsx(\"td\",{style:{padding:'12px'},children:formatDate(order.timestamp)}),/*#__PURE__*/_jsxs(\"td\",{style:{padding:'12px'},children:[Number(order.costPrice).toLocaleString(),\" \\u062F.\\u0639\"]}),/*#__PURE__*/_jsxs(\"td\",{style:{padding:'12px'},children:[Number(order.sellingPrice).toLocaleString(),\" \\u062F.\\u0639\"]}),/*#__PURE__*/_jsxs(\"td\",{style:{padding:'12px'},children:[(Number(order.sellingPrice)*0.05).toLocaleString(),\" \\u062F.\\u0639\"]}),/*#__PURE__*/_jsxs(\"td\",{style:{padding:'12px',color:calculateProfit(order.sellingPrice,order.costPrice)>0?'#4CAF50':'#dc3545'},children:[calculateProfit(order.sellingPrice,order.costPrice).toLocaleString(),\" \\u062F.\\u0639\"]}),/*#__PURE__*/_jsxs(\"td\",{style:{padding:'12px',display:'flex',gap:'8px',justifyContent:'center'},children:[/*#__PURE__*/_jsx(\"button\",{style:{border:'none',background:'none',cursor:'pointer'},title:\"\\u062A\\u0639\\u062F\\u064A\\u0644\",children:\"\\u270F\\uFE0F\"}),/*#__PURE__*/_jsx(\"button\",{style:{border:'none',background:'none',cursor:'pointer'},title:\"\\u062D\\u0630\\u0641\",children:\"\\uD83D\\uDDD1\\uFE0F\"}),/*#__PURE__*/_jsx(\"button\",{style:{border:'none',background:'none',cursor:'pointer'},title:\"\\u0625\\u0646\\u0634\\u0627\\u0621 \\u0625\\u064A\\u0635\\u0627\\u0644\",children:\"\\uD83D\\uDCC4\"}),/*#__PURE__*/_jsx(\"button\",{style:{border:'none',background:'none',cursor:'pointer'},title:\"\\u0623\\u0631\\u0634\\u0641\\u0629\",children:\"\\uD83D\\uDCE6\"})]})]},order.id||index))})]})]});};// إضافة الأنماط المتحركة\nconst styles=`.stat-card-animated {\n    animation: cardAppear 0.5s ease-out;\n}\n.stat-card-animated:hover {\n    transform: translateY(-5px);\n}\n.card-pattern {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background-image: linear-gradient(45deg, rgba(255,255,255,0.1) 25%, transparent 25%),\n                      linear-gradient(-45deg, rgba(255,255,255,0.1) 25%, transparent 25%),\n                      linear-gradient(45deg, transparent 75%, rgba(255,255,255,0.1) 75%),\n                      linear-gradient(-45deg, transparent 75%, rgba(255,255,255,0.1) 75%);\n    background-size: 20px 20px;\n    background-position: 0 0, 0 10px, 10px -10px, -10px 0px;\n    animation: patternMove 20s linear infinite;\n    opacity: 0.1;\n}\n.card-icon {\n    animation: iconFloat 3s ease-in-out infinite;\n}\n.floating-particle {\n    animation: particleFloat 4s ease-in-out infinite;\n}\n.particle-0 { top: 20%; right: 10%; animation-delay: 0s; }\n.particle-1 { top: 60%; right: 20%; animation-delay: 1s; }\n.particle-2 { top: 40%; right: 30%; animation-delay: 2s; }\n.trend-icon {\n    font-size: 1.2rem;\n    animation: trendBounce 1s ease-in-out infinite;\n}\n.trend-icon.up { color: #4CAF50; }\n.trend-icon.down { color: #f44336; }\n@keyframes cardAppear {\n    from {\n        opacity: 0;\n        transform: translateY(20px);\n    }\n    to {\n        opacity: 1;\n        transform: translateY(0);\n    }\n}\n@keyframes patternMove {\n    from { background-position: 0 0, 0 10px, 10px -10px, -10px 0px; }\n    to { background-position: 20px 20px, 20px 30px, 30px 10px, 10px 20px; }\n}\n@keyframes iconFloat {\n    0%, 100% { transform: translateY(0); }\n    50% { transform: translateY(-10px); }\n}\n@keyframes particleFloat {\n    0%, 100% { transform: translate(0, 0); opacity: 0.2; }\n    50% { transform: translate(-10px, -10px); opacity: 0.4; }\n}\n@keyframes trendBounce {\n    0%, 100% { transform: translateY(0); }\n    50% { transform: translateY(-3px); }\n}\n@media (max-width: 768px) {\n    .stat-card-animated {\n        min-height: 160px;\n        padding: 20px;\n    }\n}\n.stat-card {\n    animation: fadeInUp 0.5s ease-out;\n}\n.stat-card:hover {\n    transform: translateY(-5px);\n}\n\n.stat-card::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background: linear-gradient(45deg, rgba(255,255,255,0.1) 25%, transparent 25%),\n                linear-gradient(-45deg, rgba(255,255,255,0.1) 25%, transparent 25%);\n    background-size: 20px 20px;\n    animation: patternMove 20s linear infinite;\n    opacity: 0.1;\n}\n\n@keyframes fadeInUp {\n    from {\n        opacity: 0;\n        transform: translateY(20px);\n    }\n    to {\n        opacity: 1;\n        transform: translateY(0);\n    }\n}\n\n@keyframes patternMove {\n    from {\n        background-position: 0 0;\n    }\n    to {\n        background-position: 40px 40px;\n    }\n}\n\n@media (max-width: 768px) {\n    .stat-card {\n        min-height: 120px;\n    }\n}\n\n.analytics-stats {\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));\n    gap: 20px;\n    margin: 20px 0;\n    padding: 0 10px;\n}\n\n.stat-card {\n    position: relative;\n    padding: 20px;\n    color: white;\n    border-radius: 20px;\n    min-height: 150px;\n    overflow: hidden;\n    cursor: pointer;\n    transition: all 0.3s ease;\n    display: flex;\n    flex-direction: column;\n    gap: 10px;\n    box-shadow: 0 8px 25px rgba(0,0,0,0.1);\n    transform-style: preserve-3d;\n    animation: cardAppear 0.5s ease-out;\n}\n\n.stat-card:hover {\n    transform: translateY(-5px) scale(1.02);\n    box-shadow: 0 12px 30px rgba(0,0,0,0.15);\n}\n\n.card-pattern {\n    position: absolute;\n    inset: 0;\n    background-image: \n        radial-gradient(circle at 0% 0%, rgba(255,255,255,0.1) 25%, transparent 25%),\n        radial-gradient(circle at 100% 100%, rgba(255,255,255,0.1) 25%, transparent 25%);\n    background-size: 50% 50%;\n    opacity: 0.1;\n    animation: patternMove 20s linear infinite;\n}\n\n.main-icon {\n    position: absolute;\n    top: 15px;\n    left: 15px;\n    font-size: 2.5rem;\n    opacity: 0.2;\n    transition: all 0.3s ease;\n    animation: iconFloat 3s ease-in-out infinite;\n}\n\n.floating-icon {\n    position: absolute;\n    font-size: 1.2rem;\n    opacity: 0.15;\n    transition: all 0.3s ease;\n}\n\n.icon-0 { top: 20%; right: 10%; animation: float1 4s ease-in-out infinite; }\n.icon-1 { top: 40%; right: 25%; animation: float2 4s ease-in-out infinite 1s; }\n.icon-2 { top: 60%; right: 15%; animation: float3 4s ease-in-out infinite 2s; }\n\n.card-content {\n    position: relative;\n    z-index: 1;\n    margin-top: auto;\n}\n\n.card-content h3 {\n    margin: 0;\n    font-size: 1.1rem;\n    opacity: 0.9;\n    font-weight: 500;\n}\n\n.card-value {\n    font-size: 1.8rem;\n    font-weight: bold;\n    margin: 10px 0;\n}\n\n.card-growth {\n    display: flex;\n    align-items: center;\n    gap: 8px;\n    font-size: 0.9rem;\n    opacity: 0.9;\n}\n\n.growth-icon {\n    font-size: 1.2rem;\n    animation: bounce 1s ease-in-out infinite;\n}\n\n.growth-text {\n    font-weight: bold;\n}\n\n.growth-period {\n    opacity: 0.7;\n    font-size: 0.8rem;\n}\n\n.positive .growth-icon,\n.positive .growth-text { color: #4CAF50; }\n\n.negative .growth-icon,\n.negative .growth-text { color: #f44336; }\n\n@keyframes cardAppear {\n    from { opacity: 0; transform: translateY(20px); }\n    to { opacity: 1; transform: translateY(0); }\n}\n\n@keyframes patternMove {\n    from { background-position: 0% 0%; }\n    to { background-position: 100% 100%; }\n}\n\n@keyframes iconFloat {\n    0%, 100% { transform: translateY(0); }\n    50% { transform: translateY(-10px); }\n}\n\n@keyframes float1 {\n    0%, 100% { transform: translate(0, 0) rotate(0deg); }\n    50% { transform: translate(-10px, -10px) rotate(10deg); }\n}\n\n@keyframes float2 {\n    0%, 100% { transform: translate(0, 0) rotate(0deg); }\n    50% { transform: translate(10px, -15px) rotate(-10deg); }\n}\n\n@keyframes float3 {\n    0%, 100% { transform: translate(0, 0) rotate(0deg); }\n    50% { transform: translate(-5px, -12px) rotate(15deg); }\n}\n\n@keyframes bounce {\n    0%, 100% { transform: translateY(0); }\n    50% { transform: translateY(-3px); }\n}\n\n@media (max-width: 768px) {\n    .stat-card {\n        padding: 15px;\n        min-height: 130px;\n    }\n\n    .main-icon {\n        font-size: 2rem;\n    }\n\n    .card-value {\n        font-size: 1.5rem;\n    }\n\n    .card-content h3 {\n        font-size: 1rem;\n    }\n\n    .card-growth {\n        font-size: 0.8rem;\n    }\n}\n`;const styleSheet=document.createElement('style');styleSheet.textContent=styles;document.head.appendChild(styleSheet);export default OrderDetails;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}