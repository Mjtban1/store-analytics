{"ast":null,"code":"import React,{useState,useEffect}from'react';import{db}from'../../firebase/config';import{doc,updateDoc,deleteDoc,collection,onSnapshot,query,getDoc,setDoc}from'firebase/firestore';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const OrderDetails=_ref=>{let{orders:initialOrders,onUpdateOrder}=_ref;const[filterType,setFilterType]=useState('all');const[sortBy,setSortBy]=useState('date');const[sortOrder,setSortOrder]=useState('desc');// إضافة حالات جديدة للتعديل\nconst[editModalOpen,setEditModalOpen]=useState(false);const[editingOrder,setEditingOrder]=useState(null);const[editFormData,setEditFormData]=useState(null);// إضافة حالة لنافذة تأكيد الحذف\nconst[deleteConfirm,setDeleteConfirm]=useState({isOpen:false,orderId:null});// إضافة state جديدة للطلبات\nconst[localOrders,setLocalOrders]=useState(initialOrders||[]);// تحديث useEffect لمزامنة الطلبات عند تغيير initialOrders\nuseEffect(()=>{setLocalOrders(initialOrders||[]);},[initialOrders]);// إضافة مراقب للتغييرات في قاعدة البيانات\nuseEffect(()=>{const ordersQuery=query(collection(db,'orders'));const unsubscribe=onSnapshot(ordersQuery,snapshot=>{const updatedOrders=snapshot.docs.map(doc=>({id:doc.id,...doc.data()}));setLocalOrders(updatedOrders);},error=>{console.error(\"Error listening to orders:\",error);});// تنظيف المراقب عند إزالة المكون\nreturn()=>unsubscribe();},[]);// دالة لفتح نافذة التعديل\nconst handleEditClick=order=>{setEditingOrder(order);setEditFormData({productName:order.productName,serviceType:order.serviceType,costPrice:order.costPrice,sellingPrice:order.sellingPrice,paymentMethod:order.paymentMethod,description:order.description||''});setEditModalOpen(true);};// دالة لفتح نافذة تأكيد الحذف\nconst handleDeleteClick=orderId=>{setDeleteConfirm({isOpen:true,orderId});};// تحسين دالة حفظ التعديلات\nconst handleSaveEdit=async()=>{if(!editingOrder||!editFormData)return;try{if(!editFormData.productName||!editFormData.costPrice||!editFormData.sellingPrice){alert('يرجى ملء جميع الحقول المطلوبة');return;}const updatedData={...editFormData,costPrice:Number(editFormData.costPrice),sellingPrice:Number(editFormData.sellingPrice),lastModified:new Date()};await updateDoc(doc(db,'orders',editingOrder.id),updatedData);if(onUpdateOrder){onUpdateOrder(editingOrder.id,updatedData);}setEditModalOpen(false);setEditingOrder(null);setEditFormData(null);// إظهار رسالة نجاح مخصصة\nconst successMessage=document.createElement('div');successMessage.className='success-message';successMessage.textContent='تم تحديث الطلب بنجاح';document.body.appendChild(successMessage);setTimeout(()=>{successMessage.remove();window.location.reload();},1500);}catch(error){console.error(\"Error updating order:\",error);alert('حدث خطأ أثناء تحديث الطلب');}};// دالة لحذف الطلب\nconst handleConfirmDelete=async()=>{try{if(!deleteConfirm.orderId)return;// الحصول على بيانات الطلب قبل حذفه\nconst orderDoc=await getDoc(doc(db,'orders',deleteConfirm.orderId));const orderData=orderDoc.data();// حذف الطلب\nawait deleteDoc(doc(db,'orders',deleteConfirm.orderId));// إرجاع سعر التكلفة إلى رأس المال إذا لم يكن عمولة فقط\nif(orderData&&!orderData.commissionOnly){await updateCapital(Number(orderData.costPrice));}// تحديث الحالة المحلية\nsetLocalOrders(prevOrders=>prevOrders.filter(order=>order.id!==deleteConfirm.orderId));setDeleteConfirm({isOpen:false,orderId:null});showSuccessMessage('تم حذف الطلب بنجاح');}catch(error){console.error(\"Error deleting order:\",error);showErrorMessage('حدث خطأ أثناء حذف الطلب');}};// دالة تحديث رأس المال\nconst updateCapital=async amount=>{try{const capitalRef=doc(collection(db,'capital'));await setDoc(capitalRef,{amount:amount,date:new Date(),note:'استرجاع من الطلبات المحذوفة',type:'addition'});}catch(error){console.error(\"Error updating capital:\",error);}};// دالة إظهار رسالة النجاح\nconst showSuccessMessage=message=>{const successMessage=document.createElement('div');successMessage.className='success-message';successMessage.textContent=message;document.body.appendChild(successMessage);setTimeout(()=>{successMessage.remove();},1500);};// دالة إظهار رسالة الخطأ\nconst showErrorMessage=message=>{const errorMessage=document.createElement('div');errorMessage.className='error-message';errorMessage.textContent=message;document.body.appendChild(errorMessage);setTimeout(()=>{errorMessage.remove();},1500);};// دالة لإغلاق نافذة التعديل\nconst handleCloseEdit=()=>{setEditModalOpen(false);setEditingOrder(null);setEditFormData(null);};// تحسين نافذة التعديل المنبثقة\nconst EditModal=()=>{if(!editModalOpen||!editFormData)return null;return/*#__PURE__*/_jsx(\"div\",{className:\"edit-modal-overlay\",onClick:handleCloseEdit,children:/*#__PURE__*/_jsxs(\"div\",{className:\"edit-modal\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"edit-modal-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u062A\\u0639\\u062F\\u064A\\u0644 \\u0627\\u0644\\u0637\\u0644\\u0628\"}),/*#__PURE__*/_jsx(\"button\",{className:\"close-btn\",onClick:handleCloseEdit,children:\"\\xD7\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"edit-modal-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"edit-form-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"edit-form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u0627\\u0644\\u0645\\u0646\\u062A\\u062C\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:editFormData.productName,onChange:e=>setEditFormData({...editFormData,productName:e.target.value})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"edit-form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u0646\\u0648\\u0639 \\u0627\\u0644\\u062E\\u062F\\u0645\\u0629\"}),/*#__PURE__*/_jsxs(\"select\",{value:editFormData.serviceType,onChange:e=>setEditFormData({...editFormData,serviceType:e.target.value}),children:[/*#__PURE__*/_jsx(\"option\",{value:\"games\",children:\"\\u0623\\u0644\\u0639\\u0627\\u0628\"}),/*#__PURE__*/_jsx(\"option\",{value:\"subscriptions\",children:\"\\u0627\\u0634\\u062A\\u0631\\u0627\\u0643\\u0627\\u062A\"}),/*#__PURE__*/_jsx(\"option\",{value:\"services\",children:\"\\u062E\\u062F\\u0645\\u0627\\u062A\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"edit-form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u0633\\u0639\\u0631 \\u0627\\u0644\\u062A\\u0643\\u0644\\u0641\\u0629\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:editFormData.costPrice,onChange:e=>setEditFormData({...editFormData,costPrice:e.target.value})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"edit-form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u0633\\u0639\\u0631 \\u0627\\u0644\\u0628\\u064A\\u0639\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:editFormData.sellingPrice,onChange:e=>setEditFormData({...editFormData,sellingPrice:e.target.value})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"edit-form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u0637\\u0631\\u064A\\u0642\\u0629 \\u0627\\u0644\\u062F\\u0641\\u0639\"}),/*#__PURE__*/_jsxs(\"select\",{value:editFormData.paymentMethod,onChange:e=>setEditFormData({...editFormData,paymentMethod:e.target.value}),children:[/*#__PURE__*/_jsx(\"option\",{value:\"asiacell\",children:\"\\u0622\\u0633\\u064A\\u0627\\u0633\\u064A\\u0644\"}),/*#__PURE__*/_jsx(\"option\",{value:\"zain\",children:\"\\u0632\\u064A\\u0646 \\u0643\\u0627\\u0634\"}),/*#__PURE__*/_jsx(\"option\",{value:\"rafidain\",children:\"\\u0627\\u0644\\u0631\\u0627\\u0641\\u062F\\u064A\\u0646\"}),/*#__PURE__*/_jsx(\"option\",{value:\"crypto\",children:\"\\u0643\\u0631\\u0628\\u062A\\u0648\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"edit-form-group full-width\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u0645\\u0644\\u0627\\u062D\\u0638\\u0627\\u062A\"}),/*#__PURE__*/_jsx(\"textarea\",{value:editFormData.description||'',onChange:e=>setEditFormData({...editFormData,description:e.target.value})})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"edit-modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"save-btn\",onClick:handleSaveEdit,children:\"\\u062D\\u0641\\u0638\"}),/*#__PURE__*/_jsx(\"button\",{className:\"cancel-btn\",onClick:handleCloseEdit,children:\"\\u0625\\u0644\\u063A\\u0627\\u0621\"})]})]})});};// مكون نافذة تأكيد الحذف\nconst DeleteConfirmModal=()=>{if(!deleteConfirm.isOpen)return null;return/*#__PURE__*/_jsx(\"div\",{className:\"delete-modal-overlay\",onClick:()=>setDeleteConfirm({isOpen:false,orderId:null}),children:/*#__PURE__*/_jsx(\"div\",{className:\"delete-modal\",onClick:e=>e.stopPropagation(),children:/*#__PURE__*/_jsxs(\"div\",{className:\"delete-modal-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"delete-modal-icon\",children:\"\\uD83D\\uDDD1\\uFE0F\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"\\u062A\\u0623\\u0643\\u064A\\u062F \\u0627\\u0644\\u062D\\u0630\\u0641\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u0647\\u0644 \\u0623\\u0646\\u062A \\u0645\\u062A\\u0623\\u0643\\u062F \\u0645\\u0646 \\u062D\\u0630\\u0641 \\u0647\\u0630\\u0627 \\u0627\\u0644\\u0637\\u0644\\u0628\\u061F\"}),/*#__PURE__*/_jsx(\"p\",{className:\"delete-modal-warning\",children:\"\\u0644\\u0627 \\u064A\\u0645\\u0643\\u0646 \\u0627\\u0644\\u062A\\u0631\\u0627\\u062C\\u0639 \\u0639\\u0646 \\u0647\\u0630\\u0627 \\u0627\\u0644\\u0625\\u062C\\u0631\\u0627\\u0621.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"delete-modal-buttons\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"delete-confirm-btn\",onClick:handleConfirmDelete,children:\"\\u0646\\u0639\\u0645\\u060C \\u0627\\u062D\\u0630\\u0641\"}),/*#__PURE__*/_jsx(\"button\",{className:\"delete-cancel-btn\",onClick:()=>setDeleteConfirm({isOpen:false,orderId:null}),children:\"\\u0625\\u0644\\u063A\\u0627\\u0621\"})]})]})})});};const calculateProfit=(selling,cost,paymentMethod)=>{const sellingPrice=Number(selling);const costPrice=Number(cost);const commission=paymentMethod==='asiacell'?sellingPrice*0.10:0;// عمولة 10% فقط لآسياسيل\nreturn sellingPrice-costPrice-commission;};const formatDate=timestamp=>{try{let date;if(timestamp!==null&&timestamp!==void 0&&timestamp.seconds){date=new Date(timestamp.seconds*1000);}else if(timestamp!==null&&timestamp!==void 0&&timestamp._seconds){date=new Date(timestamp._seconds*1000);}else if(timestamp instanceof Date){date=timestamp;}else{return'تاريخ غير صالح';}return date.toLocaleString('ar-SA');}catch(error){console.error(\"Error formatting date:\",error);return'تاريخ غير صالح';}};// تحديث أنماط الرسائل\nconst additionalStyles=`\n        .success-message,\n        .error-message {\n            position: fixed;\n            top: 20px;\n            left: 50%;\n            transform: translateX(-50%);\n            padding: 12px 24px;\n            border-radius: 8px;\n            font-size: 0.95rem;\n            font-weight: 500;\n            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n            z-index: 1100;\n            animation: slideInDown 0.3s ease-out;\n        }\n\n        .success-message {\n            background: #4caf50;\n            color: white;\n        }\n\n        .error-message {\n            background: #f44336;\n            color: white;\n        }\n\n        @keyframes slideInDown {\n            from {\n                transform: translate(-50%, -20px);\n                opacity: 0;\n            }\n            to {\n                transform: translate(-50%, 0);\n                opacity: 1;\n            }\n        }\n    `;// إضافة الأنماط الجديدة\nReact.useEffect(()=>{const styleSheet=document.createElement('style');styleSheet.textContent=additionalStyles;document.head.appendChild(styleSheet);return()=>{document.head.removeChild(styleSheet);};},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"orders-details-container\",style:{background:'white',borderRadius:'20px',padding:'25px',marginTop:'30px',boxShadow:'0 4px 20px rgba(0,0,0,0.08)',overflowX:'auto'},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",style:{display:'flex',flexDirection:'column',alignItems:'center',gap:'15px',marginBottom:window.innerWidth<768?'40px':'20px',// زيادة المسافة في الموبايل\nwidth:'100%',padding:window.innerWidth<768?'0 10px':'0',boxSizing:'border-box'},children:[/*#__PURE__*/_jsx(\"h2\",{style:{fontSize:window.innerWidth<768?'1rem':'1.2rem',textAlign:'center',width:'100%'},children:\"\\u062A\\u0641\\u0627\\u0635\\u064A\\u0644 \\u0627\\u0644\\u0637\\u0644\\u0628\\u0627\\u062A\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"filters\",style:{display:'flex',flexDirection:'column',// تغيير إلى column في الموبايل\ngap:'10px',width:'100%',maxWidth:window.innerWidth<768?'100%':'none',alignItems:'center',marginBottom:window.innerWidth<768?'20px':'0'// إضافة هامش سفلي في الموبايل\n},children:[/*#__PURE__*/_jsxs(\"select\",{value:filterType,onChange:e=>setFilterType(e.target.value),style:{padding:'8px 12px',borderRadius:'8px',border:'1.5px solid #e0e0fe',width:window.innerWidth<768?'100%':'auto'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"\\u0627\\u0644\\u0643\\u0644\"}),/*#__PURE__*/_jsx(\"option\",{value:\"games\",children:\"\\u0627\\u0644\\u0623\\u0644\\u0639\\u0627\\u0628\"}),/*#__PURE__*/_jsx(\"option\",{value:\"subscriptions\",children:\"\\u0627\\u0644\\u0627\\u0634\\u062A\\u0631\\u0627\\u0643\\u0627\\u062A\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'10px',width:'100%',justifyContent:'center'},children:[/*#__PURE__*/_jsxs(\"select\",{value:sortBy,onChange:e=>setSortBy(e.target.value),style:{padding:'8px 12px',borderRadius:'8px',border:'1.5px solid #e0e0fe',width:window.innerWidth<768?'48%':'auto'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"date\",children:\"\\u062A\\u0627\\u0631\\u064A\\u062E \\u0627\\u0644\\u062A\\u0633\\u062C\\u064A\\u0644\"}),/*#__PURE__*/_jsx(\"option\",{value:\"profit\",children:\"\\u0627\\u0644\\u0631\\u0628\\u062D\"}),/*#__PURE__*/_jsx(\"option\",{value:\"price\",children:\"\\u0633\\u0639\\u0631 \\u0627\\u0644\\u0628\\u064A\\u0639\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSortOrder(prev=>prev==='asc'?'desc':'asc'),style:{padding:'8px 12px',borderRadius:'8px',border:'1.5px solid #e0e0fe',background:'#f0f2ff',width:window.innerWidth<768?'48%':'auto'},children:sortOrder==='asc'?'⬆️':'⬇️'})]})]})]}),/*#__PURE__*/_jsxs(\"table\",{style:{width:'100%',borderCollapse:'separate',borderSpacing:'0 8px',marginTop:'20px'},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{style:{padding:'15px',background:'#f8f9ff',textAlign:'right',fontWeight:'600'},children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'15px',background:'#f8f9ff',textAlign:'right',fontWeight:'600'},children:\"\\u0627\\u0644\\u0645\\u0646\\u062A\\u062C\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'15px',background:'#f8f9ff',textAlign:'right',fontWeight:'600'},children:\"\\u0627\\u0644\\u0646\\u0648\\u0639\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'15px',background:'#f8f9ff',textAlign:'right',fontWeight:'600'},children:\"\\u0627\\u0644\\u062A\\u0627\\u0631\\u064A\\u062E\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'15px',background:'#f8f9ff',textAlign:'right',fontWeight:'600'},children:\"\\u0633\\u0639\\u0631 \\u0627\\u0644\\u062A\\u0643\\u0644\\u0641\\u0629\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'15px',background:'#f8f9ff',textAlign:'right',fontWeight:'600'},children:\"\\u0633\\u0639\\u0631 \\u0627\\u0644\\u0628\\u064A\\u0639\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'15px',background:'#f8f9ff',textAlign:'right',fontWeight:'600'},children:\"\\u0627\\u0644\\u0639\\u0645\\u0648\\u0644\\u0629\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'15px',background:'#f8f9ff',textAlign:'right',fontWeight:'600'},children:\"\\u0627\\u0644\\u0631\\u0628\\u062D\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'15px',background:'#f8f9ff',textAlign:'right',fontWeight:'600'},children:\"\\u0637\\u0631\\u064A\\u0642\\u0629 \\u0627\\u0644\\u062F\\u0641\\u0639\"}),/*#__PURE__*/_jsx(\"th\",{style:{padding:'15px',background:'#f8f9ff',textAlign:'center',fontWeight:'600'},children:\"\\u0627\\u0644\\u062E\\u064A\\u0627\\u0631\\u0627\\u062A\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:localOrders// استخدام localOrders بدلاً من orders\n===null||localOrders// استخدام localOrders بدلاً من orders\n===void 0?void 0:localOrders// استخدام localOrders بدلاً من orders\n.filter(order=>filterType==='all'?true:order.serviceType===filterType).sort((a,b)=>{const sortModifier=sortOrder==='asc'?1:-1;switch(sortBy){case'date':return sortModifier*(b.timestamp.seconds-a.timestamp.seconds);case'profit':return sortModifier*(calculateProfit(b.sellingPrice,b.costPrice,b.paymentMethod)-calculateProfit(a.sellingPrice,a.costPrice,a.paymentMethod));case'price':return sortModifier*(Number(b.sellingPrice)-Number(a.sellingPrice));default:return 0;}}).map((order,index)=>/*#__PURE__*/_jsxs(\"tr\",{className:\"order-row\",style:{animation:'fadeIn 0.3s ease-out',background:'white',boxShadow:'0 2px 8px rgba(0,0,0,0.05)',borderRadius:'8px',transition:'all 0.3s ease'},children:[/*#__PURE__*/_jsx(\"td\",{style:{padding:'15px'},children:index+1}),/*#__PURE__*/_jsx(\"td\",{style:{padding:'15px'},children:order.productName}),/*#__PURE__*/_jsx(\"td\",{style:{padding:'15px'},children:/*#__PURE__*/_jsx(\"span\",{style:{padding:'4px 8px',borderRadius:'6px',fontSize:'0.85rem',backgroundColor:order.serviceType==='games'?'rgba(76, 175, 80, 0.1)':order.serviceType==='subscriptions'?'rgba(33, 150, 243, 0.1)':'rgba(255, 152, 0, 0.1)',color:order.serviceType==='games'?'#4CAF50':order.serviceType==='subscriptions'?'#2196F3':'#FF9800'},children:order.serviceType==='games'?'ألعاب':order.serviceType==='subscriptions'?'اشتراكات':'خدمات'})}),/*#__PURE__*/_jsx(\"td\",{style:{padding:'15px'},children:formatDate(order.timestamp)}),/*#__PURE__*/_jsxs(\"td\",{style:{padding:'15px'},children:[Number(order.costPrice).toLocaleString(),\" \\u062F.\\u0639\"]}),/*#__PURE__*/_jsxs(\"td\",{style:{padding:'15px'},children:[Number(order.sellingPrice).toLocaleString(),\" \\u062F.\\u0639\"]}),/*#__PURE__*/_jsx(\"td\",{style:{padding:'15px'},children:order.paymentMethod==='asiacell'?`${(Number(order.sellingPrice)*0.10).toLocaleString()} د.ع`:'0 د.ع'}),/*#__PURE__*/_jsxs(\"td\",{style:{padding:'15px',color:calculateProfit(order.sellingPrice,order.costPrice,order.paymentMethod)>0?'#4CAF50':'#dc3545'},children:[calculateProfit(order.sellingPrice,order.costPrice,order.paymentMethod).toLocaleString(),\" \\u062F.\\u0639\"]}),/*#__PURE__*/_jsx(\"td\",{style:{padding:'15px',textAlign:'right'},children:/*#__PURE__*/_jsx(\"span\",{style:{padding:'6px 12px',borderRadius:'6px',fontSize:'0.9rem',backgroundColor:order.paymentMethod==='asiacell'?'rgba(33, 150, 243, 0.1)':order.paymentMethod==='zain'?'rgba(76, 175, 80, 0.1)':order.paymentMethod==='rafidain'?'rgba(255, 152, 0, 0.1)':'rgba(156, 39, 176, 0.1)',color:order.paymentMethod==='asiacell'?'#2196F3':order.paymentMethod==='zain'?'#4CAF50':order.paymentMethod==='rafidain'?'#FF9800':'#9C27B0'},children:order.paymentMethod==='asiacell'?'آسياسيل':order.paymentMethod==='zain'?'زين كاش':order.paymentMethod==='rafidain'?'الرافدين':'كربتو'})}),/*#__PURE__*/_jsxs(\"td\",{style:{padding:'15px',display:'flex',gap:'8px',justifyContent:'center'},children:[/*#__PURE__*/_jsx(\"button\",{style:{border:'none',background:'none',cursor:'pointer'},title:\"\\u062A\\u0639\\u062F\\u064A\\u0644\",onClick:()=>handleEditClick(order),children:\"\\u270F\\uFE0F\"}),/*#__PURE__*/_jsx(\"button\",{style:{border:'none',background:'none',cursor:'pointer'},title:\"\\u062D\\u0630\\u0641\",onClick:()=>handleDeleteClick(order.id),children:\"\\uD83D\\uDDD1\\uFE0F\"}),/*#__PURE__*/_jsx(\"button\",{style:{border:'none',background:'none',cursor:'pointer'},title:\"\\u0625\\u0646\\u0634\\u0627\\u0621 \\u0625\\u064A\\u0635\\u0627\\u0644\",children:\"\\uD83D\\uDCC4\"}),/*#__PURE__*/_jsx(\"button\",{style:{border:'none',background:'none',cursor:'pointer'},title:\"\\u0623\\u0631\\u0634\\u0641\\u0629\",children:\"\\uD83D\\uDCE6\"})]})]},order.id||index))})]}),/*#__PURE__*/_jsx(EditModal,{}),/*#__PURE__*/_jsx(DeleteConfirmModal,{})]});};// تحديث الأنماط\nconst styles=`.stat-card-animated {\n    animation: cardAppear 0.5s ease-out;\n}\n.stat-card-animated:hover {\n    transform: translateY(-5px);\n}\n.card-pattern {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background-image: linear-gradient(45deg, rgba(255,255,255,0.1) 25%, transparent 25%),\n                      linear-gradient(-45deg, rgba(255,255,255,0.1) 25%, transparent 25%),\n                      linear-gradient(45deg, transparent 75%, rgba(255,255,255,0.1) 75%),\n                      linear-gradient(-45deg, transparent 75%, rgba(255,255,255,0.1) 75%);\n    background-size: 20px 20px;\n    background-position: 0 0, 0 10px, 10px -10px, -10px 0px;\n    animation: patternMove 20s linear infinite;\n    opacity: 0.1;\n}\n.card-icon {\n    animation: iconFloat 3s ease-in-out infinite;\n}\n.floating-particle {\n    animation: particleFloat 4s ease-in-out infinite;\n}\n.particle-0 { top: 20%; right: 10%; animation-delay: 0s; }\n.particle-1 { top: 60%; right: 20%; animation-delay: 1s; }\n.particle-2 { top: 40%; right: 30%; animation-delay: 2s; }\n.trend-icon {\n    font-size: 1.2rem;\n    animation: trendBounce 1s ease-in-out infinite;\n}\n.trend-icon.up { color: #4CAF50; }\n.trend-icon.down { color: #f44336; }\n@keyframes cardAppear {\n    from {\n        opacity: 0;\n        transform: translateY(20px);\n    }\n    to {\n        opacity: 1;\n        transform: translateY(0);\n    }\n}\n@keyframes patternMove {\n    from { background-position: 0 0, 0 10px, 10px -10px, -10px 0px; }\n    to { background-position: 20px 20px, 20px 30px, 30px 10px, 10px 20px; }\n}\n@keyframes iconFloat {\n    0%, 100% { transform: translateY(0); }\n    50% { transform: translateY(-10px); }\n}\n@keyframes particleFloat {\n    0%, 100% { transform: translate(0, 0); opacity: 0.2; }\n    50% { transform: translate(-10px, -10px); opacity: 0.4; }\n}\n@keyframes trendBounce {\n    0%, 100% { transform: translateY(0); }\n    50% { transform: translateY(-3px); }\n}\n@media (max-width: 768px) {\n    .stat-card-animated {\n        min-height: 160px;\n        padding: 20px;\n    }\n}\n.stat-card {\n    animation: fadeInUp 0.5s ease-out;\n}\n.stat-card:hover {\n    transform: translateY(-5px);\n}\n\n.stat-card::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background: linear-gradient(45deg, rgba(255,255,255,0.1) 25%, transparent 25%),\n                linear-gradient(-45deg, rgba(255,255,255,0.1) 25%, transparent 25%);\n    background-size: 20px 20px;\n    animation: patternMove 20s linear infinite;\n    opacity: 0.1;\n}\n\n@keyframes fadeInUp {\n    from {\n        opacity: 0;\n        transform: translateY(20px);\n    }\n    to {\n        opacity: 1;\n        transform: translateY(0);\n    }\n}\n\n@keyframes patternMove {\n    from {\n        background-position: 0% 0%;\n    }\n    to {\n        background-position: 40px 40px;\n    }\n}\n\n@media (max-width: 768px) {\n    .stat-card {\n        min-height: 120px;\n    }\n}\n\n.analytics-stats {\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));\n    gap: 20px;\n    margin: 20px 0;\n    padding: 0 10px;\n}\n\n.stat-card {\n    position: relative;\n    padding: 20px;\n    color: white;\n    border-radius: 20px;\n    min-height: 150px;\n    overflow: hidden;\n    cursor: pointer;\n    transition: all 0.3s ease;\n    display: flex;\n    flex-direction: column;\n    gap: 10px;\n    box-shadow: 0 8px 25px rgba(0,0,0,0.1);\n    transform-style: preserve-3d;\n    animation: cardAppear 0.5s ease-out;\n}\n\n.stat-card:hover {\n    transform: translateY(-5px) scale(1.02);\n    box-shadow: 0 12px 30px rgba(0,0,0,0.15);\n}\n\n.card-pattern {\n    position: absolute;\n    inset: 0;\n    background-image: \n        radial-gradient(circle at 0% 0%, rgba(255,255,255,0.1) 25%, transparent 25%),\n        radial-gradient(circle at 100% 100%, rgba(255,255,255,0.1) 25%, transparent 25%);\n    background-size: 50% 50%;\n    opacity: 0.1;\n    animation: patternMove 20s linear infinite;\n}\n\n.main-icon {\n    position: absolute;\n    top: 15px;\n    left: 15px;\n    font-size: 2.5rem;\n    opacity: 0.2;\n    transition: all 0.3s ease;\n    animation: iconFloat 3s ease-in-out infinite;\n}\n\n.floating-icon {\n    position: absolute;\n    font-size: 1.2rem;\n    opacity: 0.15;\n    transition: all 0.3s ease;\n}\n\n.icon-0 { top: 20%; right: 10%; animation: float1 4s ease-in-out infinite; }\n.icon-1 { top: 40%; right: 25%; animation: float2 4s ease-in-out infinite 1s; }\n.icon-2 { top: 60%; right: 15%; animation: float3 4s ease-in-out infinite 2s; }\n\n.card-content {\n    position: relative;\n    z-index: 1;\n    margin-top: auto;\n}\n\n.card-content h3 {\n    margin: 0;\n    font-size: 1.1rem;\n    opacity: 0.9;\n    font-weight: 500;\n}\n\n.card-value {\n    font-size: 1.8rem;\n    font-weight: bold;\n    margin: 10px 0;\n}\n\n.card-growth {\n    display: flex;\n    align-items: center;\n    gap: 8px;\n    font-size: 0.9rem;\n    opacity: 0.9;\n}\n\n.growth-icon {\n    font-size: 1.2rem;\n    animation: bounce 1s ease-in-out infinite;\n}\n\n.growth-text {\n    font-weight: bold;\n}\n\n.growth-period {\n    opacity: 0.7;\n    font-size: 0.8rem;\n}\n\n.positive .growth-icon,\n.positive .growth-text { color: #4CAF50; }\n\n.negative .growth-icon,\n.negative .growth-text { color: #f44336; }\n\n@keyframes cardAppear {\n    from { opacity: 0; transform: translateY(20px); }\n    to { opacity: 1; transform: translateY(0); }\n}\n\n@keyframes patternMove {\n    from { background-position: 0% 0%; }\n    to { background-position: 100% 100%; }\n}\n\n@keyframes iconFloat {\n    0%, 100% { transform: translateY(0); }\n    50% { transform: translateY(-10px); }\n}\n\n@keyframes float1 {\n    0%, 100% { transform: translate(0, 0) rotate(0deg); }\n    50% { transform: translate(-10px, -10px) rotate(10deg); }\n}\n\n@keyframes float2 {\n    0%, 100% { transform: translate(0, 0) rotate(0deg); }\n    50% { transform: translate(10px, -15px) rotate(-10deg); }\n}\n\n@keyframes float3 {\n    0%, 100% { transform: translate(0, 0) rotate(0deg); }\n    50% { transform: translate(-5px, -12px) rotate(15deg); }\n}\n\n@keyframes bounce {\n    0%, 100% { transform: translateY(0); }\n    50% { transform: translateY(-3px); }\n}\n\n@media (max-width: 768px) {\n    .stat-card {\n        padding: 15px;\n        min-height: 130px;\n    }\n\n    .main-icon {\n        font-size: 2rem;\n    }\n\n    .card-value {\n        font-size: 1.5rem;\n    }\n\n    .card-content h3 {\n        font-size: 1rem;\n    }\n\n    .card-growth {\n        font-size: 0.8rem;\n    }\n}\n\n/* أنماط نافذة التعديل المنبثقة */\n.edit-modal-overlay {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background: rgba(0, 0, 0, 0.6);\n    backdrop-filter: blur(4px);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    z-index: 1000;\n    padding: 15px;\n}\n\n.edit-modal {\n    background: white;\n    border-radius: 15px;\n    width: 95%;\n    max-width: 400px;\n    max-height: 85vh;\n    overflow-y: auto;\n    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);\n    animation: slideUp 0.3s ease-out;\n}\n\n.edit-modal-header {\n    padding: 12px 15px;\n    border-bottom: 1px solid #eee;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    background: #f8f9ff;\n    border-radius: 15px 15px 0 0;\n}\n\n.edit-modal-header h3 {\n    margin: 0;\n    font-size: 1rem;\n    color: #333;\n    font-weight: 600;\n}\n\n.edit-form-grid {\n    display: grid;\n    grid-template-columns: repeat(2, 1fr);\n    gap: 12px;\n    padding: 15px;\n}\n\n.edit-form-group {\n    display: flex;\n    flex-direction: column;\n    gap: 6px;\n}\n\n.edit-form-group.full-width {\n    grid-column: 1 / -1;\n}\n\n.edit-form-group label {\n    font-size: 0.8rem;\n    color: #666;\n}\n\n.edit-form-group input,\n.edit-form-group select {\n    height: 35px;\n    padding: 0 10px;\n    border: 1px solid #e0e0fe;\n    border-radius: 6px;\n    font-size: 0.9rem;\n    transition: all 0.2s ease;\n}\n\n.edit-form-group textarea {\n    height: 60px;\n    padding: 8px 10px;\n    border: 1px solid #e0e0fe;\n    border-radius: 6px;\n    font-size: 0.9rem;\n    resize: vertical;\n    min-height: 60px;\n    max-height: 120px;\n}\n\n.edit-modal-footer {\n    padding: 12px 15px;\n    border-top: 1px solid #eee;\n    display: flex;\n    gap: 8px;\n    justify-content: flex-end;\n}\n\n.save-btn,\n.cancel-btn {\n    padding: 6px 15px;\n    border-radius: 6px;\n    font-size: 0.9rem;\n    cursor: pointer;\n    transition: all 0.2s ease;\n    min-width: 60px;\n}\n\n.save-btn {\n    background: var(--main-purple);\n    color: white;\n    border: none;\n}\n\n.cancel-btn {\n    background: #f5f5f5;\n    color: #666;\n    border: 1px solid #ddd;\n}\n\n.success-message {\n    position: fixed;\n    top: 20px;\n    left: 50%;\n    transform: translateX(-50%);\n    background: #4caf50;\n    color: white;\n    padding: 10px 20px;\n    border-radius: 8px;\n    font-size: 0.9rem;\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n    animation: slideDown 0.3s ease-out;\n    z-index: 1001;\n}\n\n@keyframes slideDown {\n    from { transform: translate(-50%, -20px); opacity: 0; }\n    to { transform: translate(-50%, 0); opacity: 1; }\n}\n\n@media (max-width: 480px) {\n    .edit-form-grid {\n        grid-template-columns: 1fr;\n    }\n\n    .edit-modal {\n        max-height: 90vh;\n    }\n\n    .edit-form-group input,\n    .edit-form-group select {\n        height: 40px;\n        font-size: 16px;\n    }\n}\n\n/* أنماط نافذة تأكيد الحذف */\n.delete-modal-overlay {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background: rgba(0, 0, 0, 0.5);\n    backdrop-filter: blur(4px);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    z-index: 1000;\n    padding: 20px;\n}\n\n.delete-modal {\n    background: white;\n    border-radius: 15px;\n    padding: 25px;\n    width: 90%;\n    max-width: 400px;\n    text-align: center;\n    animation: scaleIn 0.3s ease-out;\n}\n\n.delete-modal-content {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    gap: 15px;\n}\n\n.delete-modal-icon {\n    font-size: 3rem;\n    color: #dc3545;\n    animation: shake 0.5s ease-in-out;\n}\n\n.delete-modal h3 {\n    color: #dc3545;\n    margin: 0;\n    font-size: 1.4rem;\n}\n\n.delete-modal p {\n    color: #666;\n    margin: 0;\n}\n\n.delete-modal-warning {\n    color: #dc3545;\n    font-size: 0.9rem;\n}\n\n.delete-modal-buttons {\n    display: flex;\n    gap: 10px;\n    justify-content: center;\n    margin-top: 10px;\n}\n\n.delete-confirm-btn,\n.delete-cancel-btn {\n    padding: 8px 20px;\n    border-radius: 8px;\n    border: none;\n    cursor: pointer;\n    font-size: 0.95rem;\n    transition: all 0.3s ease;\n}\n\n.delete-confirm-btn {\n    background: #dc3545;\n    color: white;\n}\n\n.delete-confirm-btn:hover {\n    background: #c82333;\n}\n\n.delete-cancel-btn {\n    background: #f8f9fa;\n    color: #666;\n    border: 1px solid #ddd;\n}\n\n.delete-cancel-btn:hover {\n    background: #e2e6ea;\n}\n\n@keyframes shake {\n    0%, 100% { transform: rotate(0deg); }\n    25% { transform: rotate(-10deg); }\n    75% { transform: rotate(10deg); }\n}\n\n@keyframes scaleIn {\n    from {\n        transform: scale(0.8);\n        opacity: 0;\n    }\n    to {\n        transform: scale(1);\n        opacity: 1;\n    }\n}\n\n@media (max-width: 480px) {\n    .delete-modal {\n        padding: 20px;\n    }\n\n    .delete-modal h3 {\n        font-size: 1.2rem;\n    }\n\n    .delete-modal-buttons {\n        flex-direction: column;\n        gap: 8px;\n    }\n\n    .delete-confirm-btn,\n    .delete-cancel-btn {\n        width: 100%;\n        padding: 10px;\n    }\n}\n\n/* أنماط جديدة للتأثيرات البصرية */\n@keyframes fadeIn {\n    from {\n        opacity: 0;\n        transform: translateY(-10px);\n    }\n    to {\n        opacity: 1;\n        transform: translateY(0);\n    }\n}\n\n@keyframes fadeOut {\n    from {\n        opacity: 1;\n        transform: translateY(0);\n    }\n    to {\n        opacity: 0;\n        transform: translateY(10px);\n    }\n}\n\n.order-row {\n    animation: fadeIn 0.3s ease-out;\n}\n\n.order-row.deleting {\n    animation: fadeOut 0.3s ease-out forwards;\n}\n`;const styleSheet=document.createElement('style');styleSheet.textContent=styles;document.head.appendChild(styleSheet);export default OrderDetails;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}