{"ast":null,"code":"import React,{useState,useEffect}from'react';import{db}from'../../firebase/config';import{collection,addDoc,getDocs,deleteDoc,doc,query,where,orderBy}from'firebase/firestore';import'./Dashboard.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Dashboard=()=>{const[activeSection,setActiveSection]=useState('orders');const[showCustomInput,setShowCustomInput]=useState(false);const[customProductName,setCustomProductName]=useState('');const[customProducts,setCustomProducts]=useState({games:[],subscriptions:[],services:[]});const[formData,setFormData]=useState({productName:'',costPrice:'',sellingPrice:'',description:'',serviceType:'games',// القيمة الافتراضية\nsubType:''// نوع المنتج الفرعي\n});const[capitalHistory,setCapitalHistory]=useState([]);const[newCapital,setNewCapital]=useState({amount:'',note:'',date:new Date().toISOString().split('T')[0]});const[totalCapital,setTotalCapital]=useState(0);const[capitalFilter,setCapitalFilter]=useState({startDate:'',endDate:''});// إضافة حالة جديدة لإدارة نافذة التأكيد\nconst[deleteModal,setDeleteModal]=useState({isOpen:false,itemId:null});const sections={orders:{title:'تسجيل الطلبات',icon:'📦'},capital:{title:'رأس المال',icon:'💰'},analytics:{title:'تحليل الطلبات',icon:'📊'},archive:{title:'الأرشيف',icon:'📂'}};const handleInputChange=e=>{setFormData({...formData,[e.target.name]:e.target.value});};const handleSubmit=e=>{e.preventDefault();console.log('Form submitted:',formData);};// إضافة useEffect لجلب المنتجات المخصصة عند تحميل المكون\nuseEffect(()=>{const fetchCustomProducts=async()=>{try{const customProductsRef=collection(db,'customProducts');const querySnapshot=await getDocs(customProductsRef);const products={games:[],subscriptions:[],services:[]};querySnapshot.forEach(doc=>{const product={id:doc.id,...doc.data()};products[product.category].push(product);});setCustomProducts(products);}catch(error){console.error(\"Error fetching custom products:\",error);}};fetchCustomProducts();},[]);useEffect(()=>{fetchCapitalHistory();},[]);const fetchCapitalHistory=async()=>{try{const capitalRef=collection(db,'capital');const q=query(capitalRef,orderBy('date','desc'));const querySnapshot=await getDocs(q);const history=[];let total=0;querySnapshot.forEach(doc=>{const data={id:doc.id,...doc.data()};history.push(data);total+=Number(data.amount);});setCapitalHistory(history);setTotalCapital(total);}catch(error){console.error(\"Error fetching capital history:\",error);}};const handleAddCapital=async e=>{e.preventDefault();if(!newCapital.amount||!newCapital.date)return;try{await addDoc(collection(db,'capital'),{amount:Number(newCapital.amount),note:newCapital.note,date:newCapital.date,timestamp:new Date()});setNewCapital({amount:'',note:'',date:new Date().toISOString().split('T')[0]});await fetchCapitalHistory();}catch(error){console.error(\"Error adding capital:\",error);}};// تعديل دالة handleDeleteCapital\nconst handleDeleteCapital=async id=>{setDeleteModal({isOpen:true,itemId:id});};// إضافة دالة confirmDelete\nconst confirmDelete=async()=>{try{await deleteDoc(doc(db,'capital',deleteModal.itemId));await fetchCapitalHistory();setDeleteModal({isOpen:false,itemId:null});}catch(error){console.error(\"Error deleting capital:\",error);}};// إضافة مكون DeleteConfirmModal\nconst DeleteConfirmModal=()=>{if(!deleteModal.isOpen)return null;return/*#__PURE__*/_jsx(\"div\",{className:\"delete-modal-overlay\",onClick:()=>setDeleteModal({isOpen:false,itemId:null}),children:/*#__PURE__*/_jsxs(\"div\",{className:\"delete-modal\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsx(\"span\",{className:\"delete-modal-emoji\",children:\"\\uD83D\\uDDD1\\uFE0F\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"delete-modal-title\",children:\"\\u062A\\u0623\\u0643\\u064A\\u062F \\u0627\\u0644\\u062D\\u0630\\u0641\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"delete-modal-message\",children:[\"\\u0647\\u0644 \\u0623\\u0646\\u062A \\u0645\\u062A\\u0623\\u0643\\u062F \\u0645\\u0646 \\u062D\\u0630\\u0641 \\u0647\\u0630\\u0627 \\u0627\\u0644\\u0645\\u0628\\u0644\\u063A\\u061F\",/*#__PURE__*/_jsx(\"br\",{}),\"\\u0644\\u0627 \\u064A\\u0645\\u0643\\u0646 \\u0627\\u0644\\u062A\\u0631\\u0627\\u062C\\u0639 \\u0639\\u0646 \\u0647\\u0630\\u0627 \\u0627\\u0644\\u0625\\u062C\\u0631\\u0627\\u0621.\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"delete-modal-buttons\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"delete-modal-btn confirm\",onClick:confirmDelete,children:\"\\u062D\\u0630\\u0641\"}),/*#__PURE__*/_jsx(\"button\",{className:\"delete-modal-btn cancel\",onClick:()=>setDeleteModal({isOpen:false,itemId:null}),children:\"\\u0625\\u0644\\u063A\\u0627\\u0621\"})]})]})});};const getFilteredCapital=()=>{if(!capitalFilter.startDate&&!capitalFilter.endDate){return capitalHistory;}return capitalHistory.filter(item=>{const itemDate=new Date(item.date);const start=capitalFilter.startDate?new Date(capitalFilter.startDate):null;const end=capitalFilter.endDate?new Date(capitalFilter.endDate):null;if(start&&end){return itemDate>=start&&itemDate<=end;}else if(start){return itemDate>=start;}else if(end){return itemDate<=end;}return true;});};const handleCustomProductAdd=async()=>{if(customProductName.trim()){try{// إضافة المنتج إلى Firestore\nconst customProductsRef=collection(db,'customProducts');const newProduct={name:customProductName.trim(),category:formData.serviceType,createdAt:new Date()};const docRef=await addDoc(customProductsRef,newProduct);// تحديث state المحلي\nsetCustomProducts(prev=>({...prev,[formData.serviceType]:[...prev[formData.serviceType],{id:docRef.id,...newProduct}]}));setCustomProductName('');setShowCustomInput(false);}catch(error){console.error(\"Error adding custom product:\",error);}}};const handleCustomProductDelete=async productId=>{try{// حذف المنتج من Firestore\nawait deleteDoc(doc(db,'customProducts',productId));// تحديث state المحلي\nsetCustomProducts(prev=>({...prev,[formData.serviceType]:prev[formData.serviceType].filter(p=>p.id!==productId)}));// إعادة تعيين القيم إذا كان المنتج المحذوف هو المحدد حالياً\nif(formData.subType===productId){setFormData({...formData,subType:'',productName:''});}}catch(error){console.error(\"Error deleting custom product:\",error);}};const handleSubTypeClick=function(subType){let customName=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';// إذا تم الضغط على زر \"منتج مخصص\"\nif(subType==='custom'&&!customName){setShowCustomInput(true);// إعادة تعيين القيم عند الضغط على زر المنتج المخصص\nsetFormData({...formData,subType:'',productName:''});return;}setShowCustomInput(false);if(customName){// عند الضغط على منتج مخصص موجود\nsetFormData({...formData,subType:customName,productName:customName});}else{// للأزرار الأساسية\nsetFormData({...formData,subType,productName:subType==='crew'?'كرو':subType==='vbucks'?'فيبوكس':subType==='netflix'?'نتفلكس':subType==='shahid'?'شاهد':subType==='prime'?'برايم':subType==='promotion'?'ترويج':subType==='video'?'فيديو إعلاني':''});}};const getSubTypeButtons=()=>{switch(formData.serviceType){case'games':return/*#__PURE__*/_jsxs(\"div\",{className:\"sub-type-buttons\",children:[/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:`sub-type-btn ${formData.subType==='crew'?'active':''}`,onClick:()=>handleSubTypeClick('crew'),children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83D\\uDC65\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u0643\\u0631\\u0648\"})]}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:`sub-type-btn ${formData.subType==='vbucks'?'active':''}`,onClick:()=>handleSubTypeClick('vbucks'),children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83D\\uDC8E\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u0641\\u064A\\u0628\\u0648\\u0643\\u0633\"})]}),customProducts.games.map(product=>/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:`sub-type-btn custom-product ${formData.subType===product.name?'active':''}`,onClick:()=>handleSubTypeClick('custom',product.name),children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83C\\uDFAE\"}),/*#__PURE__*/_jsx(\"span\",{children:product.name}),/*#__PURE__*/_jsx(\"span\",{className:\"delete-custom-product\",onClick:e=>{e.stopPropagation();handleCustomProductDelete(product.id);// إذا كان هذا المنتج المخصص هو المحدد حالياً، قم بإعادة تعيين الحقول\nif(formData.subType===product.name){setFormData({...formData,subType:'',productName:''});}},children:\"\\xD7\"})]},product.id)),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:`sub-type-btn ${formData.subType==='custom'?'active':''}`,onClick:()=>handleSubTypeClick('custom'),children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u2728\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u0645\\u0646\\u062A\\u062C \\u0645\\u062E\\u0635\\u0635\"})]}),showCustomInput&&/*#__PURE__*/_jsxs(\"div\",{className:\"custom-product-input\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:customProductName,onChange:e=>setCustomProductName(e.target.value),placeholder:\"\\u0627\\u0633\\u0645 \\u0627\\u0644\\u0645\\u0646\\u062A\\u062C \\u0627\\u0644\\u0645\\u062E\\u0635\\u0635\",className:\"form-input\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleCustomProductAdd,className:\"add-custom-btn\",children:\"\\u0625\\u0636\\u0627\\u0641\\u0629\"})]})]});case'subscriptions':return/*#__PURE__*/_jsxs(\"div\",{className:\"sub-type-buttons\",children:[/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:`sub-type-btn ${formData.subType==='netflix'?'active':''}`,onClick:()=>handleSubTypeClick('netflix'),children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83C\\uDFAC\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u0646\\u062A\\u0641\\u0644\\u0643\\u0633\"})]}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:`sub-type-btn ${formData.subType==='shahid'?'active':''}`,onClick:()=>handleSubTypeClick('shahid'),children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83D\\uDCFA\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u0634\\u0627\\u0647\\u062F\"})]}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:`sub-type-btn ${formData.subType==='prime'?'active':''}`,onClick:()=>handleSubTypeClick('prime'),children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83D\\uDED2\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u0628\\u0631\\u0627\\u064A\\u0645\"})]}),customProducts.subscriptions.map(product=>/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:`sub-type-btn custom-product ${formData.subType===product.name?'active':''}`,onClick:()=>handleSubTypeClick('custom',product.name),children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83C\\uDFAF\"}),/*#__PURE__*/_jsx(\"span\",{children:product.name}),/*#__PURE__*/_jsx(\"span\",{className:\"delete-custom-product\",onClick:e=>{e.stopPropagation();handleCustomProductDelete(product.id);if(formData.subType===product.name){setFormData({...formData,subType:'',productName:''});}},children:\"\\xD7\"})]},product.id)),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:`sub-type-btn ${formData.subType==='custom'?'active':''}`,onClick:()=>handleSubTypeClick('custom'),children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u2728\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u0645\\u0646\\u062A\\u062C \\u0645\\u062E\\u0635\\u0635\"})]}),showCustomInput&&/*#__PURE__*/_jsxs(\"div\",{className:\"custom-product-input\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:customProductName,onChange:e=>setCustomProductName(e.target.value),placeholder:\"\\u0627\\u0633\\u0645 \\u0627\\u0644\\u0645\\u0646\\u062A\\u062C \\u0627\\u0644\\u0645\\u062E\\u0635\\u0635\",className:\"form-input\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleCustomProductAdd,className:\"add-custom-btn\",children:\"\\u0625\\u0636\\u0627\\u0641\\u0629\"})]})]});case'services':return/*#__PURE__*/_jsxs(\"div\",{className:\"sub-type-buttons\",children:[/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:`sub-type-btn ${formData.subType==='promotion'?'active':''}`,onClick:()=>handleSubTypeClick('promotion'),children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83D\\uDCE2\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u062A\\u0631\\u0648\\u064A\\u062C\"})]}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:`sub-type-btn ${formData.subType==='video'?'active':''}`,onClick:()=>handleSubTypeClick('video'),children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83C\\uDFA5\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u0641\\u064A\\u062F\\u064A\\u0648 \\u0625\\u0639\\u0644\\u0627\\u0646\\u064A\"})]}),customProducts.services.map(product=>/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:`sub-type-btn custom-product ${formData.subType===product.name?'active':''}`,onClick:()=>handleSubTypeClick('custom',product.name),children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u26A1\"}),/*#__PURE__*/_jsx(\"span\",{children:product.name}),/*#__PURE__*/_jsx(\"span\",{className:\"delete-custom-product\",onClick:e=>{e.stopPropagation();handleCustomProductDelete(product.id);if(formData.subType===product.name){setFormData({...formData,subType:'',productName:''});}},children:\"\\xD7\"})]},product.id)),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:`sub-type-btn ${formData.subType==='custom'?'active':''}`,onClick:()=>handleSubTypeClick('custom'),children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u2728\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u0645\\u0646\\u062A\\u062C \\u0645\\u062E\\u0635\\u0635\"})]}),showCustomInput&&/*#__PURE__*/_jsxs(\"div\",{className:\"custom-product-input\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:customProductName,onChange:e=>setCustomProductName(e.target.value),placeholder:\"\\u0627\\u0633\\u0645 \\u0627\\u0644\\u0645\\u0646\\u062A\\u062C \\u0627\\u0644\\u0645\\u062E\\u0635\\u0635\",className:\"form-input\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleCustomProductAdd,className:\"add-custom-btn\",children:\"\\u0625\\u0636\\u0627\\u0641\\u0629\"})]})]});default:return null;}};// إضافة هذه الدوال المساعدة المحسنة\nconst getMonthlyGrowth=history=>{if(history.length<2)return 0;const currentMonth=new Date().getMonth();const currentYear=new Date().getFullYear();const thisMonthTotal=history.filter(item=>{const date=new Date(item.date);return date.getMonth()===currentMonth&&date.getFullYear()===currentYear;}).reduce((sum,item)=>sum+Number(item.amount),0);const lastMonthTotal=history.filter(item=>{const date=new Date(item.date);return date.getMonth()===currentMonth-1&&date.getFullYear()===currentYear;}).reduce((sum,item)=>sum+Number(item.amount),0);if(lastMonthTotal===0)return 0;return((thisMonthTotal-lastMonthTotal)/lastMonthTotal*100).toFixed(1);};const getAverageAddition=history=>{if(history.length===0)return 0;const monthlyTotals={};history.forEach(item=>{const date=new Date(item.date);const monthKey=`${date.getFullYear()}-${date.getMonth()}`;monthlyTotals[monthKey]=(monthlyTotals[monthKey]||0)+Number(item.amount);});const totalMonths=Object.keys(monthlyTotals).length;const totalAmount=Object.values(monthlyTotals).reduce((sum,val)=>sum+val,0);return Math.round(totalAmount/totalMonths);};// تعديل renderCapitalSection\nconst renderCapitalSection=()=>{const filteredHistory=getFilteredCapital();const filteredTotal=filteredHistory.reduce((acc,curr)=>acc+Number(curr.amount),0);const growthRate=getMonthlyGrowth(capitalHistory);const avgAddition=getAverageAddition(capitalHistory);return/*#__PURE__*/_jsxs(\"div\",{className:\"capital-section\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"capital-header\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"section-icon\",children:\"\\uD83D\\uDCB0\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"\\u0625\\u062F\\u0627\\u0631\\u0629 \\u0648\\u062A\\u062D\\u0644\\u064A\\u0644 \\u0631\\u0623\\u0633 \\u0627\\u0644\\u0645\\u0627\\u0644\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"capital-grid\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"capital-card primary\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"capital-card-content\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-wallet\"}),\"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0631\\u0623\\u0633 \\u0627\\u0644\\u0645\\u0627\\u0644\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"amount\",children:[totalCapital.toLocaleString(),/*#__PURE__*/_jsx(\"span\",{children:\"\\u062F.\\u0639\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card-footer\",children:\"\\u0645\\u062C\\u0645\\u0648\\u0639 \\u0643\\u0644 \\u0627\\u0644\\u0625\\u0636\\u0627\\u0641\\u0627\\u062A\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:`capital-card ${growthRate>=0?'secondary':'danger'}`,children:/*#__PURE__*/_jsxs(\"div\",{className:\"capital-card-content\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-chart-line\"}),\"\\u0627\\u0644\\u0646\\u0645\\u0648 \\u0627\\u0644\\u0634\\u0647\\u0631\\u064A\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"amount\",children:[growthRate,/*#__PURE__*/_jsx(\"span\",{children:\"%\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card-footer\",children:\"\\u0645\\u0642\\u0627\\u0631\\u0646\\u0629 \\u0628\\u0627\\u0644\\u0634\\u0647\\u0631 \\u0627\\u0644\\u0633\\u0627\\u0628\\u0642\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"capital-card warning\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"capital-card-content\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-coins\"}),\"\\u0645\\u0639\\u062F\\u0644 \\u0627\\u0644\\u0625\\u0636\\u0627\\u0641\\u0627\\u062A\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"amount\",children:[avgAddition.toLocaleString(),/*#__PURE__*/_jsx(\"span\",{children:\"\\u062F.\\u0639 / \\u0634\\u0647\\u0631\\u064A\\u0627\\u064B\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card-footer\",children:\"\\u0645\\u062A\\u0648\\u0633\\u0637 \\u0627\\u0644\\u0625\\u0636\\u0627\\u0641\\u0627\\u062A \\u0627\\u0644\\u0634\\u0647\\u0631\\u064A\\u0629\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"capital-form-container\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u0625\\u0636\\u0627\\u0641\\u0629 \\u0631\\u0623\\u0633 \\u0645\\u0627\\u0644 \\u062C\\u062F\\u064A\\u062F\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"capital-form\",onSubmit:handleAddCapital,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"capital-input-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u0627\\u0644\\u0645\\u0628\\u0644\\u063A \\u0627\\u0644\\u0645\\u0636\\u0627\\u0641\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"capital-input\",value:newCapital.amount,onChange:e=>setNewCapital({...newCapital,amount:e.target.value}),placeholder:\"\\u0623\\u062F\\u062E\\u0644 \\u0627\\u0644\\u0645\\u0628\\u0644\\u063A\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"capital-input-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u0627\\u0644\\u062A\\u0627\\u0631\\u064A\\u062E\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",className:\"capital-input\",value:newCapital.date,onChange:e=>setNewCapital({...newCapital,date:e.target.value}),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"capital-input-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u0645\\u0644\\u0627\\u062D\\u0638\\u0627\\u062A\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"capital-input\",value:newCapital.note,onChange:e=>setNewCapital({...newCapital,note:e.target.value}),placeholder:\"\\u0625\\u0636\\u0627\\u0641\\u0629 \\u0645\\u0644\\u0627\\u062D\\u0638\\u0629 (\\u0627\\u062E\\u062A\\u064A\\u0627\\u0631\\u064A)\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"capital-submit-btn\",children:\"\\u0625\\u0636\\u0627\\u0641\\u0629 \\u0631\\u0623\\u0633 \\u0645\\u0627\\u0644\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"capital-history-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u0633\\u062C\\u0644 \\u0631\\u0623\\u0633 \\u0627\\u0644\\u0645\\u0627\\u0644\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"history-filters\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"date-filter\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u0645\\u0646 \\u062A\\u0627\\u0631\\u064A\\u062E\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",className:\"capital-input\",value:capitalFilter.startDate,onChange:e=>setCapitalFilter({...capitalFilter,startDate:e.target.value})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"date-filter\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u0625\\u0644\\u0649 \\u062A\\u0627\\u0631\\u064A\\u062E\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",className:\"capital-input\",value:capitalFilter.endDate,onChange:e=>setCapitalFilter({...capitalFilter,endDate:e.target.value})})]}),(capitalFilter.startDate||capitalFilter.endDate)&&/*#__PURE__*/_jsxs(\"div\",{className:\"filtered-total\",children:[\"\\u0627\\u0644\\u0645\\u062C\\u0645\\u0648\\u0639 \\u0627\\u0644\\u0645\\u0635\\u0641\\u0649: \",filteredTotal.toLocaleString(),\" \\u062F.\\u0639\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"history-list\",children:filteredHistory.map(item=>/*#__PURE__*/_jsxs(\"div\",{className:\"history-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"history-details\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"amount-cell\",children:[Number(item.amount).toLocaleString(),\" \\u062F.\\u0639\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"date-cell\",children:new Date(item.date).toLocaleDateString('ar-IQ')}),item.note&&/*#__PURE__*/_jsx(\"span\",{className:\"note-cell\",children:item.note})]}),/*#__PURE__*/_jsx(\"button\",{className:\"delete-row-btn\",onClick:()=>handleDeleteCapital(item.id),children:\"\\xD7\"})]},item.id))})]})]});};// تعديل renderContent لإضافة مكون DeleteConfirmModal\nconst renderContent=()=>{return/*#__PURE__*/_jsxs(_Fragment,{children:[deleteModal.isOpen&&/*#__PURE__*/_jsx(DeleteConfirmModal,{}),(()=>{switch(activeSection){case'orders':return/*#__PURE__*/_jsxs(\"div\",{className:\"orders-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"section-icon\",children:\"\\uD83D\\uDCE6\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"\\u062A\\u0633\\u062C\\u064A\\u0644 \\u0627\\u0644\\u0645\\u0646\\u062A\\u062C\\u0627\\u062A \\u0648\\u0627\\u0644\\u0637\\u0644\\u0628\\u0627\\u062A\"})]}),/*#__PURE__*/_jsxs(\"form\",{className:\"order-form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"service-types\",children:[/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:`service-btn ${formData.serviceType==='games'?'active':''}`,onClick:()=>setFormData({...formData,serviceType:'games'}),children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83C\\uDFAE\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u0623\\u0644\\u0639\\u0627\\u0628\"})]}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:`service-btn ${formData.serviceType==='subscriptions'?'active':''}`,onClick:()=>setFormData({...formData,serviceType:'subscriptions'}),children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uD83C\\uDFAF\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u0627\\u0634\\u062A\\u0631\\u0627\\u0643\\u0627\\u062A\"})]}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:`service-btn ${formData.serviceType==='services'?'active':''}`,onClick:()=>setFormData({...formData,serviceType:'services'}),children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\u26A1\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u062E\\u062F\\u0645\\u0627\\u062A\"})]})]}),getSubTypeButtons(),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u0627\\u0633\\u0645 \\u0627\\u0644\\u0645\\u0646\\u062A\\u062C\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"productName\",className:\"form-input\",value:formData.productName,onChange:handleInputChange,placeholder:\"\\u0623\\u062F\\u062E\\u0644 \\u0627\\u0633\\u0645 \\u0627\\u0644\\u0645\\u0646\\u062A\\u062C\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u0633\\u0639\\u0631 \\u0627\\u0644\\u062A\\u0643\\u0644\\u0641\\u0629\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"costPrice\",className:\"form-input\",value:formData.costPrice,onChange:handleInputChange,placeholder:\"\\u0633\\u0639\\u0631 \\u0627\\u0644\\u062A\\u0643\\u0644\\u0641\\u0629\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u0633\\u0639\\u0631 \\u0627\\u0644\\u0628\\u064A\\u0639\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"sellingPrice\",className:\"form-input\",value:formData.sellingPrice,onChange:handleInputChange,placeholder:\"\\u0633\\u0639\\u0631 \\u0627\\u0644\\u0628\\u064A\\u0639\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group description-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"\\u0648\\u0635\\u0641 \\u0627\\u0644\\u0645\\u0646\\u062A\\u062C\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"description\",className:\"form-input\",value:formData.description,onChange:handleInputChange,placeholder:\"\\u0648\\u0635\\u0641 \\u062A\\u0641\\u0635\\u064A\\u0644\\u064A \\u0644\\u0644\\u0645\\u0646\\u062A\\u062C\",rows:\"4\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"submit-btn\",children:\"\\u062A\\u0633\\u062C\\u064A\\u0644 \\u0627\\u0644\\u0645\\u0646\\u062A\\u062C\"})]})]});case'capital':return renderCapitalSection();case'analytics':return/*#__PURE__*/_jsxs(\"div\",{className:\"analytics-section\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u062A\\u062D\\u0644\\u064A\\u0644 \\u0627\\u0644\\u0637\\u0644\\u0628\\u0627\\u062A\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"analytics-cards\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"stat-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u0639\\u062F\\u062F \\u0627\\u0644\\u0637\\u0644\\u0628\\u0627\\u062A \\u0627\\u0644\\u064A\\u0648\\u0645\"}),/*#__PURE__*/_jsx(\"p\",{children:\"25\"})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"stat-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0627\\u0644\\u0645\\u0628\\u064A\\u0639\\u0627\\u062A\"}),/*#__PURE__*/_jsx(\"p\",{children:\"150,000 \\u062F.\\u0639\"})]})]})]});case'archive':return/*#__PURE__*/_jsxs(\"div\",{className:\"archive-section\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u0623\\u0631\\u0634\\u064A\\u0641 \\u0627\\u0644\\u0637\\u0644\\u0628\\u0627\\u062A\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"archive-filters\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"date\"}),/*#__PURE__*/_jsxs(\"select\",{children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"\\u0643\\u0644 \\u0627\\u0644\\u0637\\u0644\\u0628\\u0627\\u062A\"}),/*#__PURE__*/_jsx(\"option\",{value:\"completed\",children:\"\\u0627\\u0644\\u0645\\u0643\\u062A\\u0645\\u0644\\u0629\"}),/*#__PURE__*/_jsx(\"option\",{value:\"cancelled\",children:\"\\u0627\\u0644\\u0645\\u0644\\u063A\\u064A\\u0629\"})]})]})]});default:return/*#__PURE__*/_jsx(\"div\",{children:\"\\u0627\\u062E\\u062A\\u0631 \\u0642\\u0633\\u0645\\u0627\\u064B\"});}})()]});};return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard\",children:[/*#__PURE__*/_jsx(\"nav\",{className:\"dashboard-nav\",children:Object.entries(sections).map(_ref=>{let[key,{title,icon}]=_ref;return/*#__PURE__*/_jsxs(\"button\",{className:`nav-btn ${activeSection===key?'active':''}`,onClick:()=>setActiveSection(key),children:[/*#__PURE__*/_jsx(\"span\",{children:icon}),/*#__PURE__*/_jsx(\"span\",{children:title})]},key);})}),/*#__PURE__*/_jsx(\"main\",{className:\"dashboard-content\",children:renderContent()})]});};export default Dashboard;","map":{"version":3,"names":["React","useState","useEffect","db","collection","addDoc","getDocs","deleteDoc","doc","query","where","orderBy","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Dashboard","activeSection","setActiveSection","showCustomInput","setShowCustomInput","customProductName","setCustomProductName","customProducts","setCustomProducts","games","subscriptions","services","formData","setFormData","productName","costPrice","sellingPrice","description","serviceType","subType","capitalHistory","setCapitalHistory","newCapital","setNewCapital","amount","note","date","Date","toISOString","split","totalCapital","setTotalCapital","capitalFilter","setCapitalFilter","startDate","endDate","deleteModal","setDeleteModal","isOpen","itemId","sections","orders","title","icon","capital","analytics","archive","handleInputChange","e","target","name","value","handleSubmit","preventDefault","console","log","fetchCustomProducts","customProductsRef","querySnapshot","products","forEach","product","id","data","category","push","error","fetchCapitalHistory","capitalRef","q","history","total","Number","handleAddCapital","timestamp","handleDeleteCapital","confirmDelete","DeleteConfirmModal","className","onClick","children","stopPropagation","getFilteredCapital","filter","item","itemDate","start","end","handleCustomProductAdd","trim","newProduct","createdAt","docRef","prev","handleCustomProductDelete","productId","p","handleSubTypeClick","customName","arguments","length","undefined","getSubTypeButtons","type","map","onChange","placeholder","getMonthlyGrowth","currentMonth","getMonth","currentYear","getFullYear","thisMonthTotal","reduce","sum","lastMonthTotal","toFixed","getAverageAddition","monthlyTotals","monthKey","totalMonths","Object","keys","totalAmount","values","val","Math","round","renderCapitalSection","filteredHistory","filteredTotal","acc","curr","growthRate","avgAddition","toLocaleString","onSubmit","required","toLocaleDateString","renderContent","rows","class","entries","_ref","key"],"sources":["C:/Users/saifm/OneDrive/Desktop/Prog/store-analytics/src/components/Dashboard/Dashboard.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { db } from '../../firebase/config';\r\nimport { collection, addDoc, getDocs, deleteDoc, doc, query, where, orderBy } from 'firebase/firestore';\r\nimport './Dashboard.css';\r\n\r\nconst Dashboard = () => {\r\n    const [activeSection, setActiveSection] = useState('orders');\r\n    const [showCustomInput, setShowCustomInput] = useState(false);\r\n    const [customProductName, setCustomProductName] = useState('');\r\n    const [customProducts, setCustomProducts] = useState({\r\n        games: [],\r\n        subscriptions: [],\r\n        services: []\r\n    });\r\n    const [formData, setFormData] = useState({\r\n        productName: '',\r\n        costPrice: '',\r\n        sellingPrice: '',\r\n        description: '',\r\n        serviceType: 'games', // القيمة الافتراضية\r\n        subType: '' // نوع المنتج الفرعي\r\n    });\r\n    const [capitalHistory, setCapitalHistory] = useState([]);\r\n    const [newCapital, setNewCapital] = useState({\r\n        amount: '',\r\n        note: '',\r\n        date: new Date().toISOString().split('T')[0]\r\n    });\r\n    const [totalCapital, setTotalCapital] = useState(0);\r\n    const [capitalFilter, setCapitalFilter] = useState({\r\n        startDate: '',\r\n        endDate: ''\r\n    });\r\n\r\n    // إضافة حالة جديدة لإدارة نافذة التأكيد\r\n    const [deleteModal, setDeleteModal] = useState({\r\n        isOpen: false,\r\n        itemId: null\r\n    });\r\n\r\n    const sections = {\r\n        orders: { title: 'تسجيل الطلبات', icon: '📦' },\r\n        capital: { title: 'رأس المال', icon: '💰' },\r\n        analytics: { title: 'تحليل الطلبات', icon: '📊' },\r\n        archive: { title: 'الأرشيف', icon: '📂' }\r\n    };\r\n\r\n    const handleInputChange = (e) => {\r\n        setFormData({\r\n            ...formData,\r\n            [e.target.name]: e.target.value\r\n        });\r\n    };\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        console.log('Form submitted:', formData);\r\n    };\r\n\r\n    // إضافة useEffect لجلب المنتجات المخصصة عند تحميل المكون\r\n    useEffect(() => {\r\n        const fetchCustomProducts = async () => {\r\n            try {\r\n                const customProductsRef = collection(db, 'customProducts');\r\n                const querySnapshot = await getDocs(customProductsRef);\r\n                const products = {\r\n                    games: [],\r\n                    subscriptions: [],\r\n                    services: []\r\n                };\r\n\r\n                querySnapshot.forEach((doc) => {\r\n                    const product = { id: doc.id, ...doc.data() };\r\n                    products[product.category].push(product);\r\n                });\r\n\r\n                setCustomProducts(products);\r\n            } catch (error) {\r\n                console.error(\"Error fetching custom products:\", error);\r\n            }\r\n        };\r\n\r\n        fetchCustomProducts();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        fetchCapitalHistory();\r\n    }, []);\r\n\r\n    const fetchCapitalHistory = async () => {\r\n        try {\r\n            const capitalRef = collection(db, 'capital');\r\n            const q = query(capitalRef, orderBy('date', 'desc'));\r\n            const querySnapshot = await getDocs(q);\r\n            \r\n            const history = [];\r\n            let total = 0;\r\n            \r\n            querySnapshot.forEach((doc) => {\r\n                const data = { id: doc.id, ...doc.data() };\r\n                history.push(data);\r\n                total += Number(data.amount);\r\n            });\r\n            \r\n            setCapitalHistory(history);\r\n            setTotalCapital(total);\r\n        } catch (error) {\r\n            console.error(\"Error fetching capital history:\", error);\r\n        }\r\n    };\r\n\r\n    const handleAddCapital = async (e) => {\r\n        e.preventDefault();\r\n        if (!newCapital.amount || !newCapital.date) return;\r\n\r\n        try {\r\n            await addDoc(collection(db, 'capital'), {\r\n                amount: Number(newCapital.amount),\r\n                note: newCapital.note,\r\n                date: newCapital.date,\r\n                timestamp: new Date()\r\n            });\r\n\r\n            setNewCapital({\r\n                amount: '',\r\n                note: '',\r\n                date: new Date().toISOString().split('T')[0]\r\n            });\r\n\r\n            await fetchCapitalHistory();\r\n        } catch (error) {\r\n            console.error(\"Error adding capital:\", error);\r\n        }\r\n    };\r\n\r\n    // تعديل دالة handleDeleteCapital\r\n    const handleDeleteCapital = async (id) => {\r\n        setDeleteModal({\r\n            isOpen: true,\r\n            itemId: id\r\n        });\r\n    };\r\n\r\n    // إضافة دالة confirmDelete\r\n    const confirmDelete = async () => {\r\n        try {\r\n            await deleteDoc(doc(db, 'capital', deleteModal.itemId));\r\n            await fetchCapitalHistory();\r\n            setDeleteModal({ isOpen: false, itemId: null });\r\n        } catch (error) {\r\n            console.error(\"Error deleting capital:\", error);\r\n        }\r\n    };\r\n\r\n    // إضافة مكون DeleteConfirmModal\r\n    const DeleteConfirmModal = () => {\r\n        if (!deleteModal.isOpen) return null;\r\n\r\n        return (\r\n            <div className=\"delete-modal-overlay\" onClick={() => setDeleteModal({ isOpen: false, itemId: null })}>\r\n                <div className=\"delete-modal\" onClick={e => e.stopPropagation()}>\r\n                    <span className=\"delete-modal-emoji\">🗑️</span>\r\n                    <h3 className=\"delete-modal-title\">تأكيد الحذف</h3>\r\n                    <p className=\"delete-modal-message\">\r\n                        هل أنت متأكد من حذف هذا المبلغ؟\r\n                        <br />\r\n                        لا يمكن التراجع عن هذا الإجراء.\r\n                    </p>\r\n                    <div className=\"delete-modal-buttons\">\r\n                        <button\r\n                            className=\"delete-modal-btn confirm\"\r\n                            onClick={confirmDelete}\r\n                        >\r\n                            حذف\r\n                        </button>\r\n                        <button\r\n                            className=\"delete-modal-btn cancel\"\r\n                            onClick={() => setDeleteModal({ isOpen: false, itemId: null })}\r\n                        >\r\n                            إلغاء\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    const getFilteredCapital = () => {\r\n        if (!capitalFilter.startDate && !capitalFilter.endDate) {\r\n            return capitalHistory;\r\n        }\r\n\r\n        return capitalHistory.filter(item => {\r\n            const itemDate = new Date(item.date);\r\n            const start = capitalFilter.startDate ? new Date(capitalFilter.startDate) : null;\r\n            const end = capitalFilter.endDate ? new Date(capitalFilter.endDate) : null;\r\n\r\n            if (start && end) {\r\n                return itemDate >= start && itemDate <= end;\r\n            } else if (start) {\r\n                return itemDate >= start;\r\n            } else if (end) {\r\n                return itemDate <= end;\r\n            }\r\n            return true;\r\n        });\r\n    };\r\n\r\n    const handleCustomProductAdd = async () => {\r\n        if (customProductName.trim()) {\r\n            try {\r\n                // إضافة المنتج إلى Firestore\r\n                const customProductsRef = collection(db, 'customProducts');\r\n                const newProduct = {\r\n                    name: customProductName.trim(),\r\n                    category: formData.serviceType,\r\n                    createdAt: new Date()\r\n                };\r\n\r\n                const docRef = await addDoc(customProductsRef, newProduct);\r\n                \r\n                // تحديث state المحلي\r\n                setCustomProducts(prev => ({\r\n                    ...prev,\r\n                    [formData.serviceType]: [\r\n                        ...prev[formData.serviceType],\r\n                        { id: docRef.id, ...newProduct }\r\n                    ]\r\n                }));\r\n\r\n                setCustomProductName('');\r\n                setShowCustomInput(false);\r\n            } catch (error) {\r\n                console.error(\"Error adding custom product:\", error);\r\n            }\r\n        }\r\n    };\r\n\r\n    const handleCustomProductDelete = async (productId) => {\r\n        try {\r\n            // حذف المنتج من Firestore\r\n            await deleteDoc(doc(db, 'customProducts', productId));\r\n\r\n            // تحديث state المحلي\r\n            setCustomProducts(prev => ({\r\n                ...prev,\r\n                [formData.serviceType]: prev[formData.serviceType].filter(p => p.id !== productId)\r\n            }));\r\n\r\n            // إعادة تعيين القيم إذا كان المنتج المحذوف هو المحدد حالياً\r\n            if (formData.subType === productId) {\r\n                setFormData({\r\n                    ...formData,\r\n                    subType: '',\r\n                    productName: ''\r\n                });\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error deleting custom product:\", error);\r\n        }\r\n    };\r\n\r\n    const handleSubTypeClick = (subType, customName = '') => {\r\n        // إذا تم الضغط على زر \"منتج مخصص\"\r\n        if (subType === 'custom' && !customName) {\r\n            setShowCustomInput(true);\r\n            // إعادة تعيين القيم عند الضغط على زر المنتج المخصص\r\n            setFormData({\r\n                ...formData,\r\n                subType: '',\r\n                productName: ''\r\n            });\r\n            return;\r\n        }\r\n    \r\n        setShowCustomInput(false);\r\n        \r\n        if (customName) {\r\n            // عند الضغط على منتج مخصص موجود\r\n            setFormData({\r\n                ...formData,\r\n                subType: customName,\r\n                productName: customName\r\n            });\r\n        } else {\r\n            // للأزرار الأساسية\r\n            setFormData({\r\n                ...formData,\r\n                subType,\r\n                productName: subType === 'crew' ? 'كرو' :\r\n                            subType === 'vbucks' ? 'فيبوكس' :\r\n                            subType === 'netflix' ? 'نتفلكس' :\r\n                            subType === 'shahid' ? 'شاهد' :\r\n                            subType === 'prime' ? 'برايم' :\r\n                            subType === 'promotion' ? 'ترويج' :\r\n                            subType === 'video' ? 'فيديو إعلاني' : ''\r\n            });\r\n        }\r\n    };\r\n\r\n    const getSubTypeButtons = () => {\r\n        switch(formData.serviceType) {\r\n            case 'games':\r\n                return (\r\n                    <div className=\"sub-type-buttons\">\r\n                        {/* الأزرار الأساسية */}\r\n                        <button\r\n                            type=\"button\"\r\n                            className={`sub-type-btn ${formData.subType === 'crew' ? 'active' : ''}`}\r\n                            onClick={() => handleSubTypeClick('crew')}\r\n                        >\r\n                            <span>👥</span>\r\n                            <span>كرو</span>\r\n                        </button>\r\n                        <button\r\n                            type=\"button\"\r\n                            className={`sub-type-btn ${formData.subType === 'vbucks' ? 'active' : ''}`}\r\n                            onClick={() => handleSubTypeClick('vbucks')}\r\n                        >\r\n                            <span>💎</span>\r\n                            <span>فيبوكس</span>\r\n                        </button>\r\n                        {/* المنتجات المخصصة */}\r\n                        {customProducts.games.map(product => (\r\n                            <button\r\n                                key={product.id}\r\n                                type=\"button\"\r\n                                className={`sub-type-btn custom-product ${formData.subType === product.name ? 'active' : ''}`}\r\n                                onClick={() => handleSubTypeClick('custom', product.name)}\r\n                            >\r\n                                <span>🎮</span>\r\n                                <span>{product.name}</span>\r\n                                <span \r\n                                    className=\"delete-custom-product\"\r\n                                    onClick={(e) => {\r\n                                        e.stopPropagation();\r\n                                        handleCustomProductDelete(product.id);\r\n                                        // إذا كان هذا المنتج المخصص هو المحدد حالياً، قم بإعادة تعيين الحقول\r\n                                        if (formData.subType === product.name) {\r\n                                            setFormData({\r\n                                                ...formData,\r\n                                                subType: '',\r\n                                                productName: ''\r\n                                            });\r\n                                        }\r\n                                    }}\r\n                                >\r\n                                    ×\r\n                                </span>\r\n                            </button>\r\n                        ))}\r\n                        {/* زر المنتج المخصص */}\r\n                        <button\r\n                            type=\"button\"\r\n                            className={`sub-type-btn ${formData.subType === 'custom' ? 'active' : ''}`}\r\n                            onClick={() => handleSubTypeClick('custom')}\r\n                        >\r\n                            <span>✨</span>\r\n                            <span>منتج مخصص</span>\r\n                        </button>\r\n                        {/* حقل إدخال المنتج المخصص */}\r\n                        {showCustomInput && (\r\n                            <div className=\"custom-product-input\">\r\n                                <input\r\n                                    type=\"text\"\r\n                                    value={customProductName}\r\n                                    onChange={(e) => setCustomProductName(e.target.value)}\r\n                                    placeholder=\"اسم المنتج المخصص\"\r\n                                    className=\"form-input\"\r\n                                />\r\n                                <button\r\n                                    type=\"button\"\r\n                                    onClick={handleCustomProductAdd}\r\n                                    className=\"add-custom-btn\"\r\n                                >\r\n                                    إضافة\r\n                                </button>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                );\r\n            case 'subscriptions':\r\n                return (\r\n                    <div className=\"sub-type-buttons\">\r\n                        <button\r\n                            type=\"button\"\r\n                            className={`sub-type-btn ${formData.subType === 'netflix' ? 'active' : ''}`}\r\n                            onClick={() => handleSubTypeClick('netflix')}\r\n                        >\r\n                            <span>🎬</span>\r\n                            <span>نتفلكس</span>\r\n                        </button>\r\n                        <button\r\n                            type=\"button\"\r\n                            className={`sub-type-btn ${formData.subType === 'shahid' ? 'active' : ''}`}\r\n                            onClick={() => handleSubTypeClick('shahid')}\r\n                        >\r\n                            <span>📺</span>\r\n                            <span>شاهد</span>\r\n                        </button>\r\n                        <button\r\n                            type=\"button\"\r\n                            className={`sub-type-btn ${formData.subType === 'prime' ? 'active' : ''}`}\r\n                            onClick={() => handleSubTypeClick('prime')}\r\n                        >\r\n                            <span>🛒</span>\r\n                            <span>برايم</span>\r\n                        </button>\r\n                        {/* المنتجات المخصصة للاشتراكات */}\r\n                        {customProducts.subscriptions.map(product => (\r\n                            <button\r\n                                key={product.id}\r\n                                type=\"button\"\r\n                                className={`sub-type-btn custom-product ${formData.subType === product.name ? 'active' : ''}`}\r\n                                onClick={() => handleSubTypeClick('custom', product.name)}\r\n                            >\r\n                                <span>🎯</span>\r\n                                <span>{product.name}</span>\r\n                                <span \r\n                                    className=\"delete-custom-product\"\r\n                                    onClick={(e) => {\r\n                                        e.stopPropagation();\r\n                                        handleCustomProductDelete(product.id);\r\n                                        if (formData.subType === product.name) {\r\n                                            setFormData({\r\n                                                ...formData,\r\n                                                subType: '',\r\n                                                productName: ''\r\n                                            });\r\n                                        }\r\n                                    }}\r\n                                >\r\n                                    ×\r\n                                </span>\r\n                            </button>\r\n                        ))}\r\n                        <button\r\n                            type=\"button\"\r\n                            className={`sub-type-btn ${formData.subType === 'custom' ? 'active' : ''}`}\r\n                            onClick={() => handleSubTypeClick('custom')}\r\n                        >\r\n                            <span>✨</span>\r\n                            <span>منتج مخصص</span>\r\n                        </button>\r\n                        {showCustomInput && (\r\n                            <div className=\"custom-product-input\">\r\n                                <input\r\n                                    type=\"text\"\r\n                                    value={customProductName}\r\n                                    onChange={(e) => setCustomProductName(e.target.value)}\r\n                                    placeholder=\"اسم المنتج المخصص\"\r\n                                    className=\"form-input\"\r\n                                />\r\n                                <button\r\n                                    type=\"button\"\r\n                                    onClick={handleCustomProductAdd}\r\n                                    className=\"add-custom-btn\"\r\n                                >\r\n                                    إضافة\r\n                                </button>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                );\r\n            case 'services':\r\n                return (\r\n                    <div className=\"sub-type-buttons\">\r\n                        <button\r\n                            type=\"button\"\r\n                            className={`sub-type-btn ${formData.subType === 'promotion' ? 'active' : ''}`}\r\n                            onClick={() => handleSubTypeClick('promotion')}\r\n                        >\r\n                            <span>📢</span>\r\n                            <span>ترويج</span>\r\n                        </button>\r\n                        <button\r\n                            type=\"button\"\r\n                            className={`sub-type-btn ${formData.subType === 'video' ? 'active' : ''}`}\r\n                            onClick={() => handleSubTypeClick('video')}\r\n                        >\r\n                            <span>🎥</span>\r\n                            <span>فيديو إعلاني</span>\r\n                        </button>\r\n                        {/* المنتجات المخصصة للخدمات */}\r\n                        {customProducts.services.map(product => (\r\n                            <button\r\n                                key={product.id}\r\n                                type=\"button\"\r\n                                className={`sub-type-btn custom-product ${formData.subType === product.name ? 'active' : ''}`}\r\n                                onClick={() => handleSubTypeClick('custom', product.name)}\r\n                            >\r\n                                <span>⚡</span>\r\n                                <span>{product.name}</span>\r\n                                <span \r\n                                    className=\"delete-custom-product\"\r\n                                    onClick={(e) => {\r\n                                        e.stopPropagation();\r\n                                        handleCustomProductDelete(product.id);\r\n                                        if (formData.subType === product.name) {\r\n                                            setFormData({\r\n                                                ...formData,\r\n                                                subType: '',\r\n                                                productName: ''\r\n                                            });\r\n                                        }\r\n                                    }}\r\n                                >\r\n                                    ×\r\n                                </span>\r\n                            </button>\r\n                        ))}\r\n                        <button\r\n                            type=\"button\"\r\n                            className={`sub-type-btn ${formData.subType === 'custom' ? 'active' : ''}`}\r\n                            onClick={() => handleSubTypeClick('custom')}\r\n                        >\r\n                            <span>✨</span>\r\n                            <span>منتج مخصص</span>\r\n                        </button>\r\n                        {showCustomInput && (\r\n                            <div className=\"custom-product-input\">\r\n                                <input\r\n                                    type=\"text\"\r\n                                    value={customProductName}\r\n                                    onChange={(e) => setCustomProductName(e.target.value)}\r\n                                    placeholder=\"اسم المنتج المخصص\"\r\n                                    className=\"form-input\"\r\n                                />\r\n                                <button\r\n                                    type=\"button\"\r\n                                    onClick={handleCustomProductAdd}\r\n                                    className=\"add-custom-btn\"\r\n                                >\r\n                                    إضافة\r\n                                </button>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                );\r\n            default:\r\n                return null;\r\n        }\r\n    };\r\n\r\n    // إضافة هذه الدوال المساعدة المحسنة\r\n    const getMonthlyGrowth = (history) => {\r\n        if (history.length < 2) return 0;\r\n        \r\n        const currentMonth = new Date().getMonth();\r\n        const currentYear = new Date().getFullYear();\r\n        \r\n        const thisMonthTotal = history\r\n            .filter(item => {\r\n                const date = new Date(item.date);\r\n                return date.getMonth() === currentMonth && date.getFullYear() === currentYear;\r\n            })\r\n            .reduce((sum, item) => sum + Number(item.amount), 0);\r\n\r\n        const lastMonthTotal = history\r\n            .filter(item => {\r\n                const date = new Date(item.date);\r\n                return date.getMonth() === (currentMonth - 1) && date.getFullYear() === currentYear;\r\n            })\r\n            .reduce((sum, item) => sum + Number(item.amount), 0);\r\n\r\n        if (lastMonthTotal === 0) return 0;\r\n        return (((thisMonthTotal - lastMonthTotal) / lastMonthTotal) * 100).toFixed(1);\r\n    };\r\n\r\n    const getAverageAddition = (history) => {\r\n        if (history.length === 0) return 0;\r\n        \r\n        const monthlyTotals = {};\r\n        \r\n        history.forEach(item => {\r\n            const date = new Date(item.date);\r\n            const monthKey = `${date.getFullYear()}-${date.getMonth()}`;\r\n            monthlyTotals[monthKey] = (monthlyTotals[monthKey] || 0) + Number(item.amount);\r\n        });\r\n\r\n        const totalMonths = Object.keys(monthlyTotals).length;\r\n        const totalAmount = Object.values(monthlyTotals).reduce((sum, val) => sum + val, 0);\r\n        \r\n        return Math.round(totalAmount / totalMonths);\r\n    };\r\n\r\n    // تعديل renderCapitalSection\r\n    const renderCapitalSection = () => {\r\n        const filteredHistory = getFilteredCapital();\r\n        const filteredTotal = filteredHistory.reduce((acc, curr) => acc + Number(curr.amount), 0);\r\n        const growthRate = getMonthlyGrowth(capitalHistory);\r\n        const avgAddition = getAverageAddition(capitalHistory);\r\n\r\n        return (\r\n            <div className=\"capital-section\">\r\n                <header className=\"capital-header\">\r\n                    <i className=\"section-icon\">💰</i>\r\n                    <h2>إدارة وتحليل رأس المال</h2>\r\n                </header>\r\n                \r\n                <div className=\"capital-grid\">\r\n                    <div className=\"capital-card primary\">\r\n                        <div className=\"capital-card-content\">\r\n                            <h3>\r\n                                <i className=\"fas fa-wallet\"></i>\r\n                                إجمالي رأس المال\r\n                            </h3>\r\n                            <div className=\"amount\">\r\n                                {totalCapital.toLocaleString()}\r\n                                <span>د.ع</span>\r\n                            </div>\r\n                            <div className=\"card-footer\">\r\n                                مجموع كل الإضافات\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className={`capital-card ${growthRate >= 0 ? 'secondary' : 'danger'}`}>\r\n                        <div className=\"capital-card-content\">\r\n                            <h3>\r\n                                <i className=\"fas fa-chart-line\"></i>\r\n                                النمو الشهري\r\n                            </h3>\r\n                            <div className=\"amount\">\r\n                                {growthRate}\r\n                                <span>%</span>\r\n                            </div>\r\n                            <div className=\"card-footer\">\r\n                                مقارنة بالشهر السابق\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"capital-card warning\">\r\n                        <div className=\"capital-card-content\">\r\n                            <h3>\r\n                                <i className=\"fas fa-coins\"></i>\r\n                                معدل الإضافات\r\n                            </h3>\r\n                            <div className=\"amount\">\r\n                                {avgAddition.toLocaleString()}\r\n                                <span>د.ع / شهرياً</span>\r\n                            </div>\r\n                            <div className=\"card-footer\">\r\n                                متوسط الإضافات الشهرية\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"capital-form-container\">\r\n                    <h3>إضافة رأس مال جديد</h3>\r\n                    <form className=\"capital-form\" onSubmit={handleAddCapital}>\r\n                        <div className=\"capital-input-group\">\r\n                            <label>المبلغ المضاف</label>\r\n                            <input\r\n                                type=\"number\"\r\n                                className=\"capital-input\"\r\n                                value={newCapital.amount}\r\n                                onChange={(e) => setNewCapital({...newCapital, amount: e.target.value})}\r\n                                placeholder=\"أدخل المبلغ\"\r\n                                required\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"capital-input-group\">\r\n                            <label>التاريخ</label>\r\n                            <input\r\n                                type=\"date\"\r\n                                className=\"capital-input\"\r\n                                value={newCapital.date}\r\n                                onChange={(e) => setNewCapital({...newCapital, date: e.target.value})}\r\n                                required\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"capital-input-group\">\r\n                            <label>ملاحظات</label>\r\n                            <input\r\n                                type=\"text\"\r\n                                className=\"capital-input\"\r\n                                value={newCapital.note}\r\n                                onChange={(e) => setNewCapital({...newCapital, note: e.target.value})}\r\n                                placeholder=\"إضافة ملاحظة (اختياري)\"\r\n                            />\r\n                        </div>\r\n\r\n                        <button type=\"submit\" className=\"capital-submit-btn\">\r\n                            إضافة رأس مال\r\n                        </button>\r\n                    </form>\r\n                </div>\r\n\r\n                <div className=\"capital-history-section\">\r\n                    <h3>سجل رأس المال</h3>\r\n                    \r\n                    <div className=\"history-filters\">\r\n                        <div className=\"date-filter\">\r\n                            <label>من تاريخ</label>\r\n                            <input\r\n                                type=\"date\"\r\n                                className=\"capital-input\"\r\n                                value={capitalFilter.startDate}\r\n                                onChange={(e) => setCapitalFilter({...capitalFilter, startDate: e.target.value})}\r\n                            />\r\n                        </div>\r\n                        <div className=\"date-filter\">\r\n                            <label>إلى تاريخ</label>\r\n                            <input\r\n                                type=\"date\"\r\n                                className=\"capital-input\"\r\n                                value={capitalFilter.endDate}\r\n                                onChange={(e) => setCapitalFilter({...capitalFilter, endDate: e.target.value})}\r\n                            />\r\n                        </div>\r\n                        {(capitalFilter.startDate || capitalFilter.endDate) && (\r\n                            <div className=\"filtered-total\">\r\n                                المجموع المصفى: {filteredTotal.toLocaleString()} د.ع\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n\r\n                    <div className=\"history-list\">\r\n                        {filteredHistory.map(item => (\r\n                            <div key={item.id} className=\"history-row\">\r\n                                <div className=\"history-details\">\r\n                                    <span className=\"amount-cell\">{Number(item.amount).toLocaleString()} د.ع</span>\r\n                                    <span className=\"date-cell\">{new Date(item.date).toLocaleDateString('ar-IQ')}</span>\r\n                                    {item.note && <span className=\"note-cell\">{item.note}</span>}\r\n                                </div>\r\n                                <button\r\n                                    className=\"delete-row-btn\"\r\n                                    onClick={() => handleDeleteCapital(item.id)}\r\n                                >\r\n                                    ×\r\n                                </button>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    // تعديل renderContent لإضافة مكون DeleteConfirmModal\r\n    const renderContent = () => {\r\n        return (\r\n            <>\r\n                {deleteModal.isOpen && <DeleteConfirmModal />}\r\n                {/* باقي الكود بدون تغيير */}\r\n                {(() => {\r\n                    switch (activeSection) {\r\n                        case 'orders':\r\n                            return (\r\n                                <div className=\"orders-section\">\r\n                                    <div className=\"section-header\">\r\n                                        <i className=\"section-icon\">📦</i>\r\n                                        <h2>تسجيل المنتجات والطلبات</h2>\r\n                                    </div>\r\n                                    <form className=\"order-form\" onSubmit={handleSubmit}>\r\n                                        <div className=\"service-types\">\r\n                                            <button\r\n                                                type=\"button\"\r\n                                                className={`service-btn ${formData.serviceType === 'games' ? 'active' : ''}`}\r\n                                                onClick={() => setFormData({...formData, serviceType: 'games'})}\r\n                                            >\r\n                                                <span>🎮</span>\r\n                                                <span>ألعاب</span>\r\n                                            </button>\r\n                                            <button\r\n                                                type=\"button\"\r\n                                                className={`service-btn ${formData.serviceType === 'subscriptions' ? 'active' : ''}`}\r\n                                                onClick={() => setFormData({...formData, serviceType: 'subscriptions'})}\r\n                                            >\r\n                                                <span>🎯</span>\r\n                                                <span>اشتراكات</span>\r\n                                            </button>\r\n                                            <button\r\n                                                type=\"button\"\r\n                                                className={`service-btn ${formData.serviceType === 'services' ? 'active' : ''}`}\r\n                                                onClick={() => setFormData({...formData, serviceType: 'services'})}\r\n                                            >\r\n                                                <span>⚡</span>\r\n                                                <span>خدمات</span>\r\n                                            </button>\r\n                                        </div>\r\n                                        {getSubTypeButtons()}\r\n                                        <div className=\"form-group\">\r\n                                            <label>اسم المنتج</label>\r\n                                            <input\r\n                                                type=\"text\"\r\n                                                name=\"productName\"\r\n                                                className=\"form-input\"\r\n                                                value={formData.productName}\r\n                                                onChange={handleInputChange}\r\n                                                placeholder=\"أدخل اسم المنتج\"\r\n                                            />\r\n                                        </div>\r\n\r\n                                        <div className=\"form-group\">\r\n                                            <label>سعر التكلفة</label>\r\n                                            <input\r\n                                                type=\"number\"\r\n                                                name=\"costPrice\"\r\n                                                className=\"form-input\"\r\n                                                value={formData.costPrice}\r\n                                                onChange={handleInputChange}\r\n                                                placeholder=\"سعر التكلفة\"\r\n                                            />\r\n                                        </div>\r\n\r\n                                        <div className=\"form-group\">\r\n                                            <label>سعر البيع</label>\r\n                                            <input\r\n                                                type=\"number\"\r\n                                                name=\"sellingPrice\"\r\n                                                className=\"form-input\"\r\n                                                value={formData.sellingPrice}\r\n                                                onChange={handleInputChange}\r\n                                                placeholder=\"سعر البيع\"\r\n                                            />\r\n                                        </div>\r\n\r\n                                        <div className=\"form-group description-group\">\r\n                                            <label>وصف المنتج</label>\r\n                                            <textarea\r\n                                                name=\"description\"\r\n                                                className=\"form-input\"\r\n                                                value={formData.description}\r\n                                                onChange={handleInputChange}\r\n                                                placeholder=\"وصف تفصيلي للمنتج\"\r\n                                                rows=\"4\"\r\n                                            ></textarea>\r\n                                        </div>\r\n\r\n                                        <button type=\"submit\" className=\"submit-btn\">\r\n                                            تسجيل المنتج\r\n                                        </button>\r\n                                    </form>\r\n                                </div>\r\n                            );\r\n                        case 'capital':\r\n                            return renderCapitalSection();\r\n                        case 'analytics':\r\n                            return <div className=\"analytics-section\">\r\n                                <h2>تحليل الطلبات</h2>\r\n                                <div className=\"analytics-cards\">\r\n                                    <div class=\"stat-card\">\r\n                                        <h3>عدد الطلبات اليوم</h3>\r\n                                        <p>25</p>\r\n                                    </div>\r\n                                    <div class=\"stat-card\">\r\n                                        <h3>إجمالي المبيعات</h3>\r\n                                        <p>150,000 د.ع</p>\r\n                                    </div>\r\n                                </div>\r\n                            </div>;\r\n                        case 'archive':\r\n                            return <div className=\"archive-section\">\r\n                                <h2>أرشيف الطلبات</h2>\r\n                                <div className=\"archive-filters\">\r\n                                    <input type=\"date\" />\r\n                                    <select>\r\n                                        <option value=\"all\">كل الطلبات</option>\r\n                                        <option value=\"completed\">المكتملة</option>\r\n                                        <option value=\"cancelled\">الملغية</option>\r\n                                    </select>\r\n                                </div>\r\n                            </div>;\r\n                        default:\r\n                            return <div>اختر قسماً</div>;\r\n                    }\r\n                })()}\r\n            </>\r\n        );\r\n    };\r\n\r\n    return (\r\n        <div className=\"dashboard\">\r\n            <nav className=\"dashboard-nav\">\r\n                {Object.entries(sections).map(([key, { title, icon }]) => (\r\n                    <button\r\n                        key={key}\r\n                        className={`nav-btn ${activeSection === key ? 'active' : ''}`}\r\n                        onClick={() => setActiveSection(key)}\r\n                    >\r\n                        <span>{icon}</span>\r\n                        <span>{title}</span>\r\n                    </button>\r\n                ))}\r\n            </nav>\r\n            <main className=\"dashboard-content\">\r\n                {renderContent()}\r\n            </main>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Dashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}